{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"modal fade show\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"pdfModalLabel\",\n  \"aria-hidden\": \"true\",\n  style: {\n    \"display\": \"block\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"modal-dialog modal-lg\"\n};\nconst _hoisted_3 = {\n  class: \"modal-content\"\n};\nconst _hoisted_4 = {\n  class: \"modal-header\"\n};\nconst _hoisted_5 = {\n  class: \"modal-body\"\n};\nconst _hoisted_6 = {\n  id: \"pdf-preview-container\",\n  style: {\n    \"height\": \"500px\"\n  }\n};\nconst _hoisted_7 = {\n  ref: \"pdfCanvas\"\n};\nconst _hoisted_8 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_9 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.isPdfModalOpen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[2] || (_cache[2] = _createElementVNode(\"h5\", {\n    class: \"modal-title\",\n    id: \"pdfModalLabel\"\n  }, \"Previsualización del libro\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.closePdfModal && $options.closePdfModal(...args)),\n    \"aria-label\": \"Close\"\n  })]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"canvas\", _hoisted_7, null, 512 /* NEED_PATCH */)])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"a\", {\n    href: $props.pdfUrl,\n    download: \"\",\n    class: \"btn btn-success\"\n  }, \"Descargar PDF\", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.closePdfModal && $options.closePdfModal(...args))\n  }, \"Cerrar\")])])])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["key","class","tabindex","style","id","ref","$props","isPdfModalOpen","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","type","onClick","_cache","args","$options","closePdfModal","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","href","pdfUrl","download","_hoisted_9","_createCommentVNode"],"sources":["C:\\DATA\\POW\\BookSharing_SocialNetwork\\fronvue\\src\\components\\pdfpreview_component.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"isPdfModalOpen\" class=\"modal fade show\" tabindex=\"-1\" aria-labelledby=\"pdfModalLabel\" aria-hidden=\"true\" style=\"display: block;\">\r\n      <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"pdfModalLabel\">Previsualización del libro</h5>\r\n            <button type=\"button\" class=\"btn-close\" @click=\"closePdfModal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div id=\"pdf-preview-container\" style=\"height: 500px;\">\r\n              <canvas ref=\"pdfCanvas\"></canvas>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <a :href=\"pdfUrl\" download class=\"btn btn-success\">Descargar PDF</a>\r\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"closePdfModal\">Cerrar</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import pdfjsLib from 'pdfjs-dist';\r\n  \r\n  export default {\r\n    props: {\r\n      pdfUrl: {\r\n        type: String,\r\n        required: true,\r\n      },\r\n      isPdfModalOpen: {\r\n        type: Boolean,\r\n        required: true,\r\n      },\r\n    },\r\n    watch: {\r\n      pdfUrl(newUrl) {\r\n        if (newUrl && this.isPdfModalOpen) {\r\n          this.loadPdf(newUrl);\r\n        }\r\n      },\r\n    },\r\n    mounted() {\r\n      if (this.pdfUrl && this.isPdfModalOpen) {\r\n        this.loadPdf(this.pdfUrl);\r\n      }\r\n    },\r\n    methods: {\r\n      loadPdf(pdfUrl) {\r\n        const canvas = this.$refs.pdfCanvas;\r\n        const context = canvas.getContext('2d');\r\n        pdfjsLib.getDocument(pdfUrl).promise.then((pdf) => {\r\n          pdf.getPage(1).then((page) => {\r\n            const viewport = page.getViewport({ scale: 1.5 });\r\n            canvas.height = viewport.height;\r\n            canvas.width = viewport.width;\r\n  \r\n            page.render({\r\n              canvasContext: context,\r\n              viewport: viewport,\r\n            });\r\n          });\r\n        });\r\n      },\r\n      closePdfModal() {\r\n        this.$emit('close');\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* Estilos para el modal */\r\n  .modal-backdrop {\r\n    z-index: 1040;\r\n  }\r\n  </style>\r\n  "],"mappings":";;EAAAA,GAAA;EAC+BC,KAAK,EAAC,iBAAiB;EAACC,QAAQ,EAAC,IAAI;EAAC,iBAAe,EAAC,eAAe;EAAC,aAAW,EAAC,MAAM;EAACC,KAAuB,EAAvB;IAAA;EAAA;;;EAC7GF,KAAK,EAAC;AAAuB;;EAC3BA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAc;;EAIpBA,KAAK,EAAC;AAAY;;EAChBG,EAAE,EAAC,uBAAuB;EAACD,KAAsB,EAAtB;IAAA;EAAA;;;EACtBE,GAAG,EAAC;AAAW;;EAGtBJ,KAAK,EAAC;AAAc;mBAbnC;;SACeK,MAAA,CAAAC,cAAc,I,cAAzBC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJC,mBAAA,CAgBM,OAhBNC,UAgBM,GAfJD,mBAAA,CAcM,OAdNE,UAcM,GAbJF,mBAAA,CAGM,OAHNG,UAGM,G,0BAFJH,mBAAA,CAA0E;IAAtET,KAAK,EAAC,aAAa;IAACG,EAAE,EAAC;KAAgB,4BAA0B,sBACrEM,mBAAA,CAA2F;IAAnFI,IAAI,EAAC,QAAQ;IAACb,KAAK,EAAC,WAAW;IAAEc,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;IAAE,YAAU,EAAC;QAE5EP,mBAAA,CAIM,OAJNU,UAIM,GAHJV,mBAAA,CAEM,OAFNW,UAEM,GADJX,mBAAA,CAAiC,UAAjCY,UAAiC,8B,KAGrCZ,mBAAA,CAGM,OAHNa,UAGM,GAFJb,mBAAA,CAAoE;IAAhEc,IAAI,EAAElB,MAAA,CAAAmB,MAAM;IAAEC,QAAQ,EAAR,EAAQ;IAACzB,KAAK,EAAC;KAAkB,eAAa,iBAd5E0B,UAAA,GAeYjB,mBAAA,CAAsF;IAA9EI,IAAI,EAAC,QAAQ;IAACb,KAAK,EAAC,mBAAmB;IAAEc,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;KAAE,QAAM,E,WAfzFW,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}