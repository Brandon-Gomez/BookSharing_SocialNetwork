{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport apiClient from './ApiService';\nconst loginUser = async ({\n  email,\n  password,\n  router\n}) => {\n  try {\n    const response = await apiClient.post('/login', {\n      email,\n      password\n    });\n    const username = response.data.username;\n    const is_admin = response.data.is_admin;\n    localStorage.setItem('authToken', response.data.token);\n    localStorage.setItem('isAdmin', is_admin);\n    localStorage.setItem('username', username);\n    // localStorage.setItem('userData', JSON.stringify(response.data.userData));\n    if (is_admin) {\n      router.push(`/admin/dashboard`).then(() => window.location.reload());\n    } else {\n      router.push(`/profile/${username}`).then(() => window.location.reload());\n    }\n  } catch (error) {\n    console.error('Error en el login:', error.response);\n    throw error;\n  }\n};\nconst logoutUser = router => {\n  localStorage.removeItem('authToken');\n  localStorage.removeItem('isAdmin');\n  localStorage.removeItem('username');\n  localStorage.removeItem('userData');\n  router.push('/').then(() => window.location.reload());\n};\nexport { loginUser, logoutUser };","map":{"version":3,"names":["apiClient","loginUser","email","password","router","response","post","username","data","is_admin","localStorage","setItem","token","push","then","window","location","reload","error","console","logoutUser","removeItem"],"sources":["D:/Downloads/BookSharing_SocialNetwork/fronvue/src/services/useAuth.js"],"sourcesContent":["import apiClient from './ApiService';\r\nconst loginUser = async ({ email, password, router }) => {\r\n  try {\r\n    const response = await apiClient.post('/login', { email, password });\r\n    const username = response.data.username;\r\n    const is_admin = response.data.is_admin;\r\n\r\n    localStorage.setItem('authToken', response.data.token);\r\n    localStorage.setItem('isAdmin', is_admin);\r\n    localStorage.setItem('username', username);\r\n    // localStorage.setItem('userData', JSON.stringify(response.data.userData));\r\n    if (is_admin) {\r\n      router.push(`/admin/dashboard`).then(() => window.location.reload());\r\n    } else {\r\n      router.push(`/profile/${username}`).then(() => window.location.reload());\r\n    }\r\n  } catch (error) {\r\n    console.error('Error en el login:', error.response);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst logoutUser = (router) => {\r\n  localStorage.removeItem('authToken');\r\n  localStorage.removeItem('isAdmin');\r\n  localStorage.removeItem('username');\r\n  localStorage.removeItem('userData');\r\n  router.push('/').then(() => window.location.reload());\r\n};\r\n\r\nexport { loginUser, logoutUser };"],"mappings":";AAAA,OAAOA,SAAS,MAAM,cAAc;AACpC,MAAMC,SAAS,GAAG,MAAAA,CAAO;EAAEC,KAAK;EAAEC,QAAQ;EAAEC;AAAO,CAAC,KAAK;EACvD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,SAAS,CAACM,IAAI,CAAC,QAAQ,EAAE;MAAEJ,KAAK;MAAEC;IAAS,CAAC,CAAC;IACpE,MAAMI,QAAQ,GAAGF,QAAQ,CAACG,IAAI,CAACD,QAAQ;IACvC,MAAME,QAAQ,GAAGJ,QAAQ,CAACG,IAAI,CAACC,QAAQ;IAEvCC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEN,QAAQ,CAACG,IAAI,CAACI,KAAK,CAAC;IACtDF,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEF,QAAQ,CAAC;IACzCC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEJ,QAAQ,CAAC;IAC1C;IACA,IAAIE,QAAQ,EAAE;MACZL,MAAM,CAACS,IAAI,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAAC,MAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC;IACtE,CAAC,MAAM;MACLb,MAAM,CAACS,IAAI,CAAC,YAAYN,QAAQ,EAAE,CAAC,CAACO,IAAI,CAAC,MAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC;IAC1E;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAACb,QAAQ,CAAC;IACnD,MAAMa,KAAK;EACb;AACF,CAAC;AAED,MAAME,UAAU,GAAIhB,MAAM,IAAK;EAC7BM,YAAY,CAACW,UAAU,CAAC,WAAW,CAAC;EACpCX,YAAY,CAACW,UAAU,CAAC,SAAS,CAAC;EAClCX,YAAY,CAACW,UAAU,CAAC,UAAU,CAAC;EACnCX,YAAY,CAACW,UAAU,CAAC,UAAU,CAAC;EACnCjB,MAAM,CAACS,IAAI,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,MAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC;AACvD,CAAC;AAED,SAAShB,SAAS,EAAEmB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}