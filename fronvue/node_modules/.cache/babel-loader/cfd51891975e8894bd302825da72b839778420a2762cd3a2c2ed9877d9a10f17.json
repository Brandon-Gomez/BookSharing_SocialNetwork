{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport { PDFLinkService } from 'pdfjs-dist/lib/web/pdf_link_service';\nexport default function (PDFJS) {\n  function isPDFDocumentLoadingTask(obj) {\n    return typeof obj === 'object' && obj !== null && obj.__PDFDocumentLoadingTask === true;\n  }\n  function createLoadingTask(src, options) {\n    var source;\n    if (typeof src === 'string') source = {\n      url: src\n    };else if (src instanceof Uint8Array) source = {\n      data: src\n    };else if (typeof src === 'object' && src !== null) source = Object.assign({}, src);else throw new TypeError('invalid src type');\n    var loadingTask = PDFJS.getDocument(source);\n    loadingTask.__PDFDocumentLoadingTask = true; // since PDFDocumentLoadingTask is not public\n\n    if (options && options.onPassword) loadingTask.onPassword = options.onPassword;\n    if (options && options.onProgress) loadingTask.onProgress = options.onProgress;\n    return loadingTask;\n  }\n  function PDFJSWrapper(canvasElt, annotationLayerElt, emitEvent) {\n    var pdfDoc = null;\n    var pdfPage = null;\n    var pdfRender = null;\n    var canceling = false;\n    canvasElt.getContext('2d').save();\n    function clearCanvas() {\n      canvasElt.getContext('2d').clearRect(0, 0, canvasElt.width, canvasElt.height);\n    }\n    function clearAnnotations() {\n      while (annotationLayerElt.firstChild) annotationLayerElt.removeChild(annotationLayerElt.firstChild);\n    }\n    this.destroy = function () {\n      if (pdfDoc === null) return;\n      pdfDoc.destroy();\n      pdfDoc = null;\n    };\n    this.getResolutionScale = function () {\n      return canvasElt.offsetWidth / canvasElt.width;\n    };\n    this.printPage = function (dpi, pageNumberOnly) {\n      if (pdfPage === null) return;\n\n      // 1in == 72pt\n      // 1in == 96px\n      var PRINT_RESOLUTION = dpi === undefined ? 150 : dpi;\n      var PRINT_UNITS = PRINT_RESOLUTION / 72.0;\n      var CSS_UNITS = 96.0 / 72.0;\n      var iframeElt = document.createElement('iframe');\n      function removeIframe() {\n        iframeElt.parentNode.removeChild(iframeElt);\n      }\n      new Promise(function (resolve, reject) {\n        iframeElt.frameBorder = '0';\n        iframeElt.scrolling = 'no';\n        iframeElt.width = '0px;';\n        iframeElt.height = '0px;';\n        iframeElt.style.cssText = 'position: absolute; top: 0; left: 0';\n        iframeElt.onload = function () {\n          resolve(this.contentWindow);\n        };\n        window.document.body.appendChild(iframeElt);\n      }).then(function (win) {\n        win.document.title = '';\n        return pdfDoc.getPage(1).then(function (page) {\n          var viewport = page.getViewport(1);\n          win.document.head.appendChild(win.document.createElement('style')).textContent = '@supports ((size:A4) and (size:1pt 1pt)) {' + '@page { margin: 1pt; size: ' + viewport.width * PRINT_UNITS / CSS_UNITS + 'pt ' + viewport.height * PRINT_UNITS / CSS_UNITS + 'pt; }' + '}' + '@media print {' + 'body { margin: 0 }' + 'canvas { page-break-before: avoid; page-break-after: always; page-break-inside: avoid }' + '}' + '@media screen {' + 'body { margin: 0 }' + '}' + '';\n          return win;\n        });\n      }).then(function (win) {\n        var allPages = [];\n        for (var pageNumber = 1; pageNumber <= pdfDoc.numPages; ++pageNumber) {\n          if (pageNumberOnly !== undefined && pageNumberOnly.indexOf(pageNumber) === -1) continue;\n          allPages.push(pdfDoc.getPage(pageNumber).then(function (page) {\n            var viewport = page.getViewport(1);\n            var printCanvasElt = win.document.body.appendChild(win.document.createElement('canvas'));\n            printCanvasElt.width = viewport.width * PRINT_UNITS;\n            printCanvasElt.height = viewport.height * PRINT_UNITS;\n            return page.render({\n              canvasContext: printCanvasElt.getContext('2d'),\n              transform: [\n              // Additional transform, applied just before viewport transform.\n              PRINT_UNITS, 0, 0, PRINT_UNITS, 0, 0],\n              viewport: viewport,\n              intent: 'print'\n            }).promise;\n          }));\n        }\n        Promise.all(allPages).then(function () {\n          win.focus(); // Required for IE\n          if (win.document.queryCommandSupported('print')) {\n            win.document.execCommand('print', false, null);\n          } else {\n            win.print();\n          }\n          removeIframe();\n        }).catch(function (err) {\n          removeIframe();\n          emitEvent('error', err);\n        });\n      });\n    };\n    this.renderPage = function (rotate) {\n      if (pdfRender !== null) {\n        if (canceling) return;\n        canceling = true;\n        pdfRender.cancel();\n        return;\n      }\n      if (pdfPage === null) return;\n      rotate = (pdfPage.rotate === undefined ? 0 : pdfPage.rotate) + (rotate === undefined ? 0 : rotate);\n      var scale = canvasElt.offsetWidth / pdfPage.getViewport(1).width * (window.devicePixelRatio || 1);\n      var viewport = pdfPage.getViewport(scale, rotate);\n      emitEvent('page-size', viewport.width, viewport.height);\n      canvasElt.width = viewport.width;\n      canvasElt.height = viewport.height;\n      pdfRender = pdfPage.render({\n        canvasContext: canvasElt.getContext('2d'),\n        viewport: viewport\n      });\n      annotationLayerElt.style.visibility = 'hidden';\n      clearAnnotations();\n      var viewer = {\n        scrollPageIntoView: function (params) {\n          emitEvent('link-clicked', params.pageNumber);\n        }\n      };\n      var linkService = new PDFLinkService();\n      linkService.setDocument(pdfDoc);\n      linkService.setViewer(viewer);\n      pdfPage.getAnnotations({\n        intent: 'display'\n      }).then(function (annotations) {\n        PDFJS.AnnotationLayer.render({\n          viewport: viewport.clone({\n            dontFlip: true\n          }),\n          div: annotationLayerElt,\n          annotations: annotations,\n          page: pdfPage,\n          linkService: linkService,\n          renderInteractiveForms: false\n        });\n      });\n      pdfRender.then(function () {\n        annotationLayerElt.style.visibility = '';\n        canceling = false;\n        pdfRender = null;\n      }).catch(function (err) {\n        pdfRender = null;\n        if (err instanceof PDFJS.RenderingCancelledException) {\n          canceling = false;\n          this.renderPage(rotate);\n          return;\n        }\n        emitEvent('error', err);\n      }.bind(this));\n    };\n    this.forEachPage = function (pageCallback) {\n      var numPages = pdfDoc.numPages;\n      (function next(pageNum) {\n        pdfDoc.getPage(pageNum).then(pageCallback).then(function () {\n          if (++pageNum <= numPages) next(pageNum);\n        });\n      })(1);\n    };\n    this.loadPage = function (pageNumber, rotate) {\n      pdfPage = null;\n      if (pdfDoc === null) return;\n      pdfDoc.getPage(pageNumber).then(function (page) {\n        pdfPage = page;\n        this.renderPage(rotate);\n        emitEvent('page-loaded', page.pageNumber);\n      }.bind(this)).catch(function (err) {\n        clearCanvas();\n        clearAnnotations();\n        emitEvent('error', err);\n      });\n    };\n    this.loadDocument = function (src) {\n      pdfDoc = null;\n      pdfPage = null;\n      emitEvent('num-pages', undefined);\n      if (!src) {\n        canvasElt.removeAttribute('width');\n        canvasElt.removeAttribute('height');\n        clearAnnotations();\n        return;\n      }\n      if (isPDFDocumentLoadingTask(src)) {\n        if (src.destroyed) {\n          emitEvent('error', new Error('loadingTask has been destroyed'));\n          return;\n        }\n        var loadingTask = src;\n      } else {\n        var loadingTask = createLoadingTask(src, {\n          onPassword: function (updatePassword, reason) {\n            var reasonStr;\n            switch (reason) {\n              case PDFJS.PasswordResponses.NEED_PASSWORD:\n                reasonStr = 'NEED_PASSWORD';\n                break;\n              case PDFJS.PasswordResponses.INCORRECT_PASSWORD:\n                reasonStr = 'INCORRECT_PASSWORD';\n                break;\n            }\n            emitEvent('password', updatePassword, reasonStr);\n          },\n          onProgress: function (status) {\n            var ratio = status.loaded / status.total;\n            emitEvent('progress', Math.min(ratio, 1));\n          }\n        });\n      }\n      loadingTask.then(function (pdf) {\n        pdfDoc = pdf;\n        emitEvent('num-pages', pdf.numPages);\n        emitEvent('loaded');\n      }).catch(function (err) {\n        clearCanvas();\n        clearAnnotations();\n        emitEvent('error', err);\n      });\n    };\n    annotationLayerElt.style.transformOrigin = '0 0';\n  }\n  return {\n    createLoadingTask: createLoadingTask,\n    PDFJSWrapper: PDFJSWrapper\n  };\n}","map":{"version":3,"names":["PDFLinkService","PDFJS","isPDFDocumentLoadingTask","obj","__PDFDocumentLoadingTask","createLoadingTask","src","options","source","url","Uint8Array","data","Object","assign","TypeError","loadingTask","getDocument","onPassword","onProgress","PDFJSWrapper","canvasElt","annotationLayerElt","emitEvent","pdfDoc","pdfPage","pdfRender","canceling","getContext","save","clearCanvas","clearRect","width","height","clearAnnotations","firstChild","removeChild","destroy","getResolutionScale","offsetWidth","printPage","dpi","pageNumberOnly","PRINT_RESOLUTION","undefined","PRINT_UNITS","CSS_UNITS","iframeElt","document","createElement","removeIframe","parentNode","Promise","resolve","reject","frameBorder","scrolling","style","cssText","onload","contentWindow","window","body","appendChild","then","win","title","getPage","page","viewport","getViewport","head","textContent","allPages","pageNumber","numPages","indexOf","push","printCanvasElt","render","canvasContext","transform","intent","promise","all","focus","queryCommandSupported","execCommand","print","catch","err","renderPage","rotate","cancel","scale","devicePixelRatio","visibility","viewer","scrollPageIntoView","params","linkService","setDocument","setViewer","getAnnotations","annotations","AnnotationLayer","clone","dontFlip","div","renderInteractiveForms","RenderingCancelledException","bind","forEachPage","pageCallback","next","pageNum","loadPage","loadDocument","removeAttribute","destroyed","Error","updatePassword","reason","reasonStr","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","status","ratio","loaded","total","Math","min","pdf","transformOrigin"],"sources":["C:/DATA/POW/BookSharing_SocialNetwork/fronvue/node_modules/vue-pdf/src/pdfjsWrapper.js"],"sourcesContent":["import { PDFLinkService } from 'pdfjs-dist/lib/web/pdf_link_service';\r\n\r\nexport default function(PDFJS) {\r\n\r\n\tfunction isPDFDocumentLoadingTask(obj) {\r\n\r\n\t\treturn typeof(obj) === 'object' && obj !== null && obj.__PDFDocumentLoadingTask === true;\r\n\t}\r\n\r\n\tfunction createLoadingTask(src, options) {\r\n\r\n\t\tvar source;\r\n\t\tif ( typeof(src) === 'string' )\r\n\t\t\tsource = { url: src };\r\n\t\telse if ( src instanceof Uint8Array )\r\n\t\t\tsource = { data: src };\r\n\t\telse if ( typeof(src) === 'object' && src !== null )\r\n\t\t\tsource = Object.assign({}, src);\r\n\t\telse\r\n\t\t\tthrow new TypeError('invalid src type');\r\n\r\n\t\tvar loadingTask = PDFJS.getDocument(source);\r\n\t\tloadingTask.__PDFDocumentLoadingTask = true; // since PDFDocumentLoadingTask is not public\r\n\r\n\t\tif ( options && options.onPassword )\r\n\t\t\tloadingTask.onPassword = options.onPassword;\r\n\r\n\t\tif ( options && options.onProgress )\r\n\t\t\tloadingTask.onProgress = options.onProgress;\r\n\r\n\t\treturn loadingTask;\r\n\t}\r\n\r\n\r\n\tfunction PDFJSWrapper(canvasElt, annotationLayerElt, emitEvent) {\r\n\r\n\t\tvar pdfDoc = null;\r\n\t\tvar pdfPage = null;\r\n\t\tvar pdfRender = null;\r\n\t\tvar canceling = false;\r\n\r\n\t\tcanvasElt.getContext('2d').save();\r\n\r\n\t\tfunction clearCanvas() {\r\n\r\n\t\t\tcanvasElt.getContext('2d').clearRect(0, 0, canvasElt.width, canvasElt.height);\r\n\t\t}\r\n\r\n\t\tfunction clearAnnotations() {\r\n\r\n\t\t\twhile ( annotationLayerElt.firstChild )\r\n\t\t\t\tannotationLayerElt.removeChild(annotationLayerElt.firstChild);\r\n\t\t}\r\n\r\n\t\tthis.destroy = function() {\r\n\r\n\t\t\tif ( pdfDoc === null )\r\n\t\t\t\treturn;\r\n\t\t\tpdfDoc.destroy();\r\n\t\t\tpdfDoc = null;\r\n\t\t}\r\n\r\n\t\tthis.getResolutionScale = function() {\r\n\r\n\t\t\treturn canvasElt.offsetWidth / canvasElt.width;\r\n\t\t}\r\n\r\n\t\tthis.printPage = function(dpi, pageNumberOnly) {\r\n\r\n\t\t\tif ( pdfPage === null )\r\n\t\t\t\treturn;\r\n\r\n\t\t\t// 1in == 72pt\r\n\t\t\t// 1in == 96px\r\n\t\t\tvar PRINT_RESOLUTION = dpi === undefined ? 150 : dpi;\r\n\t\t\tvar PRINT_UNITS = PRINT_RESOLUTION / 72.0;\r\n\t\t\tvar CSS_UNITS = 96.0 / 72.0;\r\n\r\n\t\t\tvar iframeElt = document.createElement('iframe');\r\n\r\n\t\t\tfunction removeIframe() {\r\n\r\n\t\t\t\tiframeElt.parentNode.removeChild(iframeElt);\r\n\t\t\t}\r\n\r\n\t\t\tnew Promise(function(resolve, reject) {\r\n\r\n\t\t\t\tiframeElt.frameBorder = '0';\r\n\t\t\t\tiframeElt.scrolling = 'no';\r\n\t\t\t\tiframeElt.width = '0px;'\r\n\t\t\t\tiframeElt.height = '0px;'\r\n\t\t\t\tiframeElt.style.cssText = 'position: absolute; top: 0; left: 0';\r\n\r\n\t\t\t\tiframeElt.onload = function() {\r\n\r\n\t\t\t\t\tresolve(this.contentWindow);\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindow.document.body.appendChild(iframeElt);\r\n\t\t\t})\r\n\t\t\t.then(function(win) {\r\n\r\n\t\t\t\twin.document.title = '';\r\n\r\n\t\t\t\treturn pdfDoc.getPage(1)\r\n\t\t\t\t.then(function(page) {\r\n\r\n\t\t\t\t\tvar viewport = page.getViewport(1);\r\n\t\t\t\t\twin.document.head.appendChild(win.document.createElement('style')).textContent =\r\n\t\t\t\t\t\t'@supports ((size:A4) and (size:1pt 1pt)) {' +\r\n\t\t\t\t\t\t\t'@page { margin: 1pt; size: ' + ((viewport.width * PRINT_UNITS) / CSS_UNITS) + 'pt ' + ((viewport.height * PRINT_UNITS) / CSS_UNITS) + 'pt; }' +\r\n\t\t\t\t\t\t'}' +\r\n\r\n\t\t\t\t\t\t'@media print {' +\r\n\t\t\t\t\t\t\t'body { margin: 0 }' +\r\n\t\t\t\t\t\t\t'canvas { page-break-before: avoid; page-break-after: always; page-break-inside: avoid }' +\r\n\t\t\t\t\t\t'}'+\r\n\r\n\t\t\t\t\t\t'@media screen {' +\r\n\t\t\t\t\t\t\t'body { margin: 0 }' +\r\n\t\t\t\t\t\t'}'+\r\n\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\treturn win;\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.then(function(win) {\r\n\r\n\t\t\t\tvar allPages = [];\r\n\r\n\t\t\t\tfor ( var pageNumber = 1; pageNumber <= pdfDoc.numPages; ++pageNumber ) {\r\n\r\n\t\t\t\t\tif ( pageNumberOnly !== undefined && pageNumberOnly.indexOf(pageNumber) === -1 )\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tallPages.push(\r\n\t\t\t\t\t\tpdfDoc.getPage(pageNumber)\r\n\t\t\t\t\t\t.then(function(page) {\r\n\r\n\t\t\t\t\t\t\tvar viewport = page.getViewport(1);\r\n\r\n\t\t\t\t\t\t\tvar printCanvasElt = win.document.body.appendChild(win.document.createElement('canvas'));\r\n\t\t\t\t\t\t\tprintCanvasElt.width = (viewport.width * PRINT_UNITS);\r\n\t\t\t\t\t\t\tprintCanvasElt.height = (viewport.height * PRINT_UNITS);\r\n\r\n\t\t\t\t\t\t\treturn page.render({\r\n\t\t\t\t\t\t\t\tcanvasContext: printCanvasElt.getContext('2d'),\r\n\t\t\t\t\t\t\t\ttransform: [ // Additional transform, applied just before viewport transform.\r\n\t\t\t\t\t\t\t\t\tPRINT_UNITS, 0, 0,\r\n\t\t\t\t\t\t\t\t\tPRINT_UNITS, 0, 0\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tviewport: viewport,\r\n\t\t\t\t\t\t\t\tintent: 'print'\r\n\t\t\t\t\t\t\t}).promise;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPromise.all(allPages)\r\n\t\t\t\t.then(function() {\r\n\r\n\t\t\t\t\twin.focus(); // Required for IE\r\n\t\t\t\t\tif (win.document.queryCommandSupported('print')) {\r\n\t\t\t\t\t\twin.document.execCommand('print', false, null);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\twin.print();\r\n\t\t\t\t\t  }\r\n\t\t\t\t\tremoveIframe();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(err) {\r\n\r\n\t\t\t\t\tremoveIframe();\r\n\t\t\t\t\temitEvent('error', err);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.renderPage = function(rotate) {\r\n\t\t\tif ( pdfRender !== null ) {\r\n\r\n\t\t\t\tif ( canceling )\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcanceling = true;\r\n\t\t\t\tpdfRender.cancel();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( pdfPage === null )\r\n\t\t\t\treturn;\r\n\r\n\t\t\trotate = (pdfPage.rotate === undefined ? 0 : pdfPage.rotate) + (rotate === undefined ? 0 : rotate);\r\n\r\n\t\t\tvar scale = canvasElt.offsetWidth / pdfPage.getViewport(1).width * (window.devicePixelRatio || 1);\r\n\t\t\tvar viewport = pdfPage.getViewport(scale, rotate);\r\n\r\n\t\t\temitEvent('page-size', viewport.width, viewport.height);\r\n\r\n\t\t\tcanvasElt.width = viewport.width;\r\n\t\t\tcanvasElt.height = viewport.height;\r\n\r\n\t\t\tpdfRender = pdfPage.render({\r\n\t\t\t\tcanvasContext: canvasElt.getContext('2d'),\r\n\t\t\t\tviewport: viewport\r\n\t\t\t});\r\n\r\n\t\t\tannotationLayerElt.style.visibility = 'hidden';\r\n\t\t\tclearAnnotations();\r\n\r\n\t\t\tvar viewer = {\r\n\t\t\t\tscrollPageIntoView: function(params) {\r\n\t\t\t\t\temitEvent('link-clicked', params.pageNumber)\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tvar linkService = new PDFLinkService();\r\n\t\t\tlinkService.setDocument(pdfDoc);\r\n\t\t\tlinkService.setViewer(viewer);\r\n\r\n\t\t\tpdfPage.getAnnotations({ intent: 'display' })\r\n\t\t\t.then(function(annotations) {\r\n\r\n\t\t\t\tPDFJS.AnnotationLayer.render({\r\n\t\t\t\t\tviewport: viewport.clone({ dontFlip: true }),\r\n\t\t\t\t\tdiv: annotationLayerElt,\r\n\t\t\t\t\tannotations: annotations,\r\n\t\t\t\t\tpage: pdfPage,\r\n\t\t\t\t\tlinkService: linkService,\r\n\t\t\t\t\trenderInteractiveForms: false\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tpdfRender\r\n\t\t\t.then(function() {\r\n\t\t\t\tannotationLayerElt.style.visibility = '';\r\n\t\t\t\tcanceling = false;\r\n\t\t\t\tpdfRender = null;\r\n\t\t\t})\r\n\t\t\t.catch(function(err) {\r\n\r\n\t\t\t\tpdfRender = null;\r\n\t\t\t\tif ( err instanceof PDFJS.RenderingCancelledException ) {\r\n\r\n\t\t\t\t\tcanceling = false;\r\n\t\t\t\t\tthis.renderPage(rotate);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\temitEvent('error', err);\r\n\t\t\t}.bind(this))\r\n\t\t}\r\n\r\n\r\n\t\tthis.forEachPage = function(pageCallback) {\r\n\r\n\t\t\tvar numPages = pdfDoc.numPages;\r\n\r\n\t\t\t(function next(pageNum) {\r\n\r\n\t\t\t\tpdfDoc.getPage(pageNum)\r\n\t\t\t\t.then(pageCallback)\r\n\t\t\t\t.then(function() {\r\n\r\n\t\t\t\t\tif ( ++pageNum <= numPages )\r\n\t\t\t\t\t\tnext(pageNum);\r\n\t\t\t\t})\r\n\t\t\t})(1);\r\n\t\t}\r\n\r\n\r\n\t\tthis.loadPage = function(pageNumber, rotate) {\r\n\r\n\t\t\tpdfPage = null;\r\n\r\n\t\t\tif ( pdfDoc === null )\r\n\t\t\t\treturn;\r\n\r\n\t\t\tpdfDoc.getPage(pageNumber)\r\n\t\t\t.then(function(page) {\r\n\r\n\t\t\t\tpdfPage = page;\r\n\t\t\t\tthis.renderPage(rotate);\r\n\t\t\t\temitEvent('page-loaded', page.pageNumber);\r\n\t\t\t}.bind(this))\r\n\t\t\t.catch(function(err) {\r\n\r\n\t\t\t\tclearCanvas();\r\n\t\t\t\tclearAnnotations();\r\n\t\t\t\temitEvent('error', err);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.loadDocument = function(src) {\r\n\r\n\t\t\tpdfDoc = null;\r\n\t\t\tpdfPage = null;\r\n\r\n\t\t\temitEvent('num-pages', undefined);\r\n\r\n\t\t\tif ( !src ) {\r\n\r\n\t\t\t\tcanvasElt.removeAttribute('width');\r\n\t\t\t\tcanvasElt.removeAttribute('height');\r\n\t\t\t\tclearAnnotations();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( isPDFDocumentLoadingTask(src) ) {\r\n\r\n\t\t\t\tif ( src.destroyed ) {\r\n\r\n\t\t\t\t\temitEvent('error', new Error('loadingTask has been destroyed'));\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar loadingTask = src;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar loadingTask = createLoadingTask(src, {\r\n\t\t\t\t\tonPassword: function(updatePassword, reason) {\r\n\r\n\t\t\t\t\t\tvar reasonStr;\r\n\t\t\t\t\t\tswitch (reason) {\r\n\t\t\t\t\t\t\tcase PDFJS.PasswordResponses.NEED_PASSWORD:\r\n\t\t\t\t\t\t\t\treasonStr = 'NEED_PASSWORD';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase PDFJS.PasswordResponses.INCORRECT_PASSWORD:\r\n\t\t\t\t\t\t\t\treasonStr = 'INCORRECT_PASSWORD';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\temitEvent('password', updatePassword, reasonStr);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonProgress: function(status) {\r\n\r\n\t\t\t\t\t\tvar ratio = status.loaded / status.total;\r\n\t\t\t\t\t\temitEvent('progress', Math.min(ratio, 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tloadingTask\r\n\t\t\t.then(function(pdf) {\r\n\r\n\t\t\t\tpdfDoc = pdf;\r\n\t\t\t\temitEvent('num-pages', pdf.numPages);\r\n\t\t\t\temitEvent('loaded');\r\n\t\t\t})\r\n\t\t\t.catch(function(err) {\r\n\r\n\t\t\t\tclearCanvas();\r\n\t\t\t\tclearAnnotations();\r\n\t\t\t\temitEvent('error', err);\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tannotationLayerElt.style.transformOrigin = '0 0';\r\n\t}\r\n\r\n\treturn {\r\n\t\tcreateLoadingTask: createLoadingTask,\r\n\t\tPDFJSWrapper: PDFJSWrapper,\r\n\t}\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}