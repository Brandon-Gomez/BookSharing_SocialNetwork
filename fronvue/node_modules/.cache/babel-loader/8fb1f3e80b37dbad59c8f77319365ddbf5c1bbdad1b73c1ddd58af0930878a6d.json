{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"profile-info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", null, \"Información del perfil\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.updateProfile && $options.updateProfile(...args), [\"prevent\"]))\n  }, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"Nombre:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.profileData.name = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileData.name]]), _cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"Email:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.profileData.email = $event),\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileData.email]]), _cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"birthdate\"\n  }, \"Fecha de Nacimiento:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.profileData.birthdate = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileData.birthdate]]), _cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"gender\"\n  }, \"Género:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.profileData.gender = $event)\n  }, _cache[6] || (_cache[6] = [_createElementVNode(\"option\", {\n    value: \"masculino\"\n  }, \"Masculino\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"femenino\"\n  }, \"Femenino\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.profileData.gender]]), _cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Descripción:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.profileData.description = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileData.description]]), _cache[12] || (_cache[12] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Guardar Cambios\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","updateProfile","for","type","$event","$data","profileData","name","email","disabled","birthdate","gender","value","description"],"sources":["C:\\DATA\\POW\\BookSharing_SocialNetwork\\fronvue\\src\\components\\profile_component.vue"],"sourcesContent":["<template>\r\n  <div class=\"profile-info\">\r\n    <h2>Información del perfil</h2>\r\n    <form @submit.prevent=\"updateProfile\">\r\n      <label for=\"name\">Nombre:</label>\r\n      <input type=\"text\" v-model=\"profileData.name\" />\r\n\r\n      <label for=\"email\">Email:</label>\r\n      <input type=\"email\" v-model=\"profileData.email\" disabled />\r\n\r\n      <label for=\"birthdate\">Fecha de Nacimiento:</label>\r\n      <input type=\"date\" v-model=\"profileData.birthdate\" />\r\n\r\n      <label for=\"gender\">Género:</label>\r\n      <select v-model=\"profileData.gender\">\r\n        <option value=\"masculino\">Masculino</option>\r\n        <option value=\"femenino\">Femenino</option>\r\n      </select>\r\n\r\n      <label for=\"description\">Descripción:</label>\r\n      <textarea v-model=\"profileData.description\"></textarea>\r\n\r\n      <button type=\"submit\">Guardar Cambios</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiClient from '@/services/ApiService';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      profileData: {\r\n        name: '',\r\n        email: '',\r\n        birthdate: '',\r\n        gender: '',\r\n        description: ''\r\n      }\r\n    };\r\n  },\r\n  async mounted() {\r\n    const token = localStorage.getItem('authToken');\r\n    if (token) {\r\n      try {\r\n        const response = await apiClient.get('/profile', {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n        this.profileData = response.data.msg;\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async updateProfile() {\r\n      const token = localStorage.getItem('authToken');\r\n      if (token) {\r\n        try {\r\n          await apiClient.put('/profile', this.profileData, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`\r\n            }\r\n          });\r\n          alert('Perfil actualizado exitosamente');\r\n        } catch (error) {\r\n          console.error('Error updating profile:', error);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAc;;uBAAzBC,mBAAA,CAuBM,OAvBNC,UAuBM,G,4BAtBJC,mBAAA,CAA+B,YAA3B,wBAAsB,sBAC1BA,mBAAA,CAoBO;IApBAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHjBC,cAAA,KAAAC,IAAA,KAG2BC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;gCAClCJ,mBAAA,CAAiC;IAA1BO,GAAG,EAAC;EAAM,GAAC,SAAO,sB,gBACzBP,mBAAA,CAAgD;IAAzCQ,IAAI,EAAC,MAAM;IALxB,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAKkCC,KAAA,CAAAC,WAAW,CAACC,IAAI,GAAAH,MAAA;iDAAhBC,KAAA,CAAAC,WAAW,CAACC,IAAI,E,6BAE5CZ,mBAAA,CAAiC;IAA1BO,GAAG,EAAC;EAAO,GAAC,QAAM,sB,gBACzBP,mBAAA,CAA2D;IAApDQ,IAAI,EAAC,OAAO;IARzB,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAQmCC,KAAA,CAAAC,WAAW,CAACE,KAAK,GAAAJ,MAAA;IAAEK,QAAQ,EAAR;iDAAnBJ,KAAA,CAAAC,WAAW,CAACE,KAAK,E,6BAE9Cb,mBAAA,CAAmD;IAA5CO,GAAG,EAAC;EAAW,GAAC,sBAAoB,sB,gBAC3CP,mBAAA,CAAqD;IAA9CQ,IAAI,EAAC,MAAM;IAXxB,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAWkCC,KAAA,CAAAC,WAAW,CAACI,SAAS,GAAAN,MAAA;iDAArBC,KAAA,CAAAC,WAAW,CAACI,SAAS,E,+BAEjDf,mBAAA,CAAmC;IAA5BO,GAAG,EAAC;EAAQ,GAAC,SAAO,sB,gBAC3BP,mBAAA,CAGS;IAjBf,uBAAAE,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAcuBC,KAAA,CAAAC,WAAW,CAACK,MAAM,GAAAP,MAAA;gCACjCT,mBAAA,CAA4C;IAApCiB,KAAK,EAAC;EAAW,GAAC,WAAS,qBACnCjB,mBAAA,CAA0C;IAAlCiB,KAAK,EAAC;EAAU,GAAC,UAAQ,oB,2CAFlBP,KAAA,CAAAC,WAAW,CAACK,MAAM,E,+BAKnChB,mBAAA,CAA6C;IAAtCO,GAAG,EAAC;EAAa,GAAC,cAAY,sB,gBACrCP,mBAAA,CAAuD;IApB7D,uBAAAE,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAoByBC,KAAA,CAAAC,WAAW,CAACO,WAAW,GAAAT,MAAA;iDAAvBC,KAAA,CAAAC,WAAW,CAACO,WAAW,E,+BAE1ClB,mBAAA,CAA8C;IAAtCQ,IAAI,EAAC;EAAQ,GAAC,iBAAe,qB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}