{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport apiClient from '.';\nexport async function loginUser({\n  email,\n  password,\n  router\n}) {\n  try {\n    const response = await apiClient.post('/login', {\n      email,\n      password\n    });\n    const username = response.data.username;\n    const is_admin = response.data.is_admin;\n    localStorage.setItem('authToken', response.data.token);\n    localStorage.setItem('isAdmin', is_admin);\n    localStorage.setItem('username', username);\n    if (is_admin) {\n      router.push(`/admin/dashboard`).then(() => window.location.reload());\n    } else {\n      router.push(`/profile/${username}`).then(() => window.location.reload());\n    }\n  } catch (error) {\n    console.error('Error en el login:', error.response);\n    throw error;\n  }\n}","map":{"version":3,"names":["apiClient","loginUser","email","password","router","response","post","username","data","is_admin","localStorage","setItem","token","push","then","window","location","reload","error","console"],"sources":["D:/Downloads/BookSharing_SocialNetwork/fronvue/src/services/useAuth.js"],"sourcesContent":["import apiClient from '.';\r\n\r\nexport async function loginUser({ email, password, router }) {\r\n  try {\r\n    const response = await apiClient.post('/login', { email, password });\r\n    const username = response.data.username;\r\n    const is_admin = response.data.is_admin;\r\n\r\n    localStorage.setItem('authToken', response.data.token);\r\n    localStorage.setItem('isAdmin', is_admin);\r\n    localStorage.setItem('username', username);\r\n\r\n    if (is_admin) {\r\n      router.push(`/admin/dashboard`).then(() => window.location.reload());\r\n    } else {\r\n      router.push(`/profile/${username}`).then(() => window.location.reload());\r\n    }\r\n  } catch (error) {\r\n    console.error('Error en el login:', error.response);\r\n    throw error;\r\n  }\r\n}"],"mappings":";AAAA,OAAOA,SAAS,MAAM,GAAG;AAEzB,OAAO,eAAeC,SAASA,CAAC;EAAEC,KAAK;EAAEC,QAAQ;EAAEC;AAAO,CAAC,EAAE;EAC3D,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,SAAS,CAACM,IAAI,CAAC,QAAQ,EAAE;MAAEJ,KAAK;MAAEC;IAAS,CAAC,CAAC;IACpE,MAAMI,QAAQ,GAAGF,QAAQ,CAACG,IAAI,CAACD,QAAQ;IACvC,MAAME,QAAQ,GAAGJ,QAAQ,CAACG,IAAI,CAACC,QAAQ;IAEvCC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEN,QAAQ,CAACG,IAAI,CAACI,KAAK,CAAC;IACtDF,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEF,QAAQ,CAAC;IACzCC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEJ,QAAQ,CAAC;IAE1C,IAAIE,QAAQ,EAAE;MACZL,MAAM,CAACS,IAAI,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAAC,MAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC;IACtE,CAAC,MAAM;MACLb,MAAM,CAACS,IAAI,CAAC,YAAYN,QAAQ,EAAE,CAAC,CAACO,IAAI,CAAC,MAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC;IAC1E;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAACb,QAAQ,CAAC;IACnD,MAAMa,KAAK;EACb;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}