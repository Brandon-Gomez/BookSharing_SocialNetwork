{"ast":null,"code":"import AlertComponent from \"@/components/alert_component.vue\";\nimport eventBus from \"@/\";\n\n// import apiClient from '@/services/ApiService';\nexport default {\n  name: 'AdminLayout',\n  data() {\n    return {\n      alert: {\n        visible: false,\n        message: '',\n        type: 'success' // success, danger, warning, info\n      }\n    };\n  },\n  components: {\n    AlertComponent\n  },\n  async beforeCreate() {\n    // Simula una función para verificar si el usuario es administrador\n    // const token = localStorage.getItem('authToken');\n    // if (!token) {\n    //     this.$router.push('/login');\n    //     return;\n    // }\n    // try {\n    //     await apiClient.get('/admin/verifyAdmin', {}, {\n    //         headers: { Authorization: `Bearer ${token}` }\n    //     });\n    // } catch (error) {\n    //     console.error('Error verifying admin:', error);\n    //     this.$router.push('/login');\n    // }\n  },\n  mounted() {\n    if (this.$route.query.alert) {\n      this.alert = {\n        visible: true,\n        message: this.$route.query.alert,\n        type: this.$route.query.type || \"success\"\n      };\n      // Limpia la query para que no se repita al navegar\n      this.$router.replace({\n        query: null\n      });\n    }\n    // Escucha eventos globales de alerta\n    eventBus.on('alert', payload => {\n      this.alert = {\n        visible: true,\n        message: payload.message,\n        type: payload.type || \"success\"\n      };\n    });\n  },\n  watch: {\n    'alert.visible'(val) {\n      if (val) {\n        setTimeout(() => {\n          this.alert.visible = false;\n        }, 4000);\n      }\n    }\n  }\n};","map":{"version":3,"names":["AlertComponent","eventBus","name","data","alert","visible","message","type","components","beforeCreate","mounted","$route","query","$router","replace","on","payload","watch","alert.visible","val","setTimeout"],"sources":["D:\\Downloads\\BookSharing_SocialNetwork\\fronvue\\src\\layouts\\AdminLayout.vue"],"sourcesContent":["<template>\r\n    <div>\r\n\r\n        <AlertComponent v-if=\"alert.visible\" :message=\"alert.message\" :type=\"alert.type\" :visible=\"alert.visible\"\r\n            @close=\"alert.visible = false\" class=\"alert-fixed-bottom-right\" />\r\n\r\n        <!-- Page Wrapper -->\r\n        <div id=\"wrapper\">\r\n\r\n            <!-- Sidebar -->\r\n            <ul class=\"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\" id=\"accordionSidebar\">\r\n                <!-- Sidebar - Brand -->\r\n                <a class=\"sidebar-brand d-flex align-items-center justify-content-center\" href=\"index.html\">\r\n                    <div class=\"sidebar-brand-text mx-3\">Readmate <sup>Admin</sup></div>\r\n                </a>\r\n\r\n                <!-- Divider -->\r\n                <hr class=\"sidebar-divider my-0\" />\r\n\r\n                <!-- Nav Item - Dashboard -->\r\n                <li class=\"nav-item active\">\r\n                    <router-link class=\"nav-link\" to=\"/admin\">\r\n                        <i class=\"fas fa-fw fa-tachometer-alt\"></i>\r\n                        <span class=\"ml-2\">Dashboard</span></router-link>\r\n                </li>\r\n\r\n                <!-- Divider -->\r\n                <hr class=\"sidebar-divider\" />\r\n\r\n                <!-- Heading -->\r\n                <div class=\"sidebar-heading\">Interface</div>\r\n\r\n                <!-- Nav Item - Pages Collapse Menu -->\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link collapsed\" href=\"#\" data-toggle=\"collapse\" data-target=\"#collapseTwo\"\r\n                        aria-expanded=\"true\" aria-controls=\"collapseTwo\">\r\n                        <i class=\"fas fa-fw fa-users\"></i>\r\n                        <span class=\"ml-2\">Usuarios</span>\r\n                    </a>\r\n                    <div id=\"collapseTwo\" class=\"collapse\" aria-labelledby=\"headingTwo\" data-parent=\"#accordionSidebar\">\r\n                        <div class=\"bg-white py-2 collapse-inner rounded\">\r\n                            <!-- <h6 class=\"collapse-header\">Custom Components:</h6> -->\r\n                            <router-link class=\"collapse-item\" to=\"/admin/users-list\">Lista de usuarios</router-link>\r\n                            <router-link class=\"collapse-item\" to=\"/admin/user-create\">Crear usuario</router-link>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <!-- Nav Item - Utilities Collapse Menu -->\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link collapsed\" href=\"#\" data-toggle=\"collapse\" data-target=\"#collapseUtilities\"\r\n                        aria-expanded=\"true\" aria-controls=\"collapseUtilities\">\r\n                        <i class=\"fas fa-fw fa-wrench\"></i>\r\n                        <span class=\"ml-2\">Publicaciones</span>\r\n                    </a>\r\n                    <div id=\"collapseUtilities\" class=\"collapse\" aria-labelledby=\"headingUtilities\"\r\n                        data-parent=\"#accordionSidebar\">\r\n                        <div class=\"bg-white py-2 collapse-inner rounded\">\r\n                            <!-- <h6 class=\"collapse-header\">Custom Utilities:</h6> -->\r\n                            <router-link class=\"collapse-item\" to=\"/admin/posts-list\">Lista de\r\n                                publicaciones</router-link>\r\n                            <router-link class=\"collapse-item\" to=\"/admin/post-create\">Crear publicación</router-link>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <!-- Divider -->\r\n                <hr class=\"sidebar-divider\" />\r\n\r\n            </ul>\r\n            <!-- End of Sidebar -->\r\n\r\n            <!-- Content Wrapper -->\r\n            <div id=\"content-wrapper\" class=\"d-flex flex-column\">\r\n                <!-- Main Content -->\r\n                <div id=\"content\">\r\n\r\n                    <!-- Topbar -->\r\n                    <nav class=\"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow\">\r\n                        <!-- Sidebar Toggle (Topbar) -->\r\n                        <button id=\"sidebarToggleTop\" class=\"btn btn-link d-md-none rounded-circle mr-3\">\r\n                            <i class=\"fa fa-bars\"></i>\r\n                        </button>\r\n\r\n                        <!-- Topbar Search -->\r\n                        <form\r\n                            class=\"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search\">\r\n                            <div class=\"input-group\">\r\n                                <input type=\"text\" class=\"form-control bg-light border-0 small\"\r\n                                    placeholder=\"Search for...\" aria-label=\"Search\" aria-describedby=\"basic-addon2\" />\r\n                                <div class=\"input-group-append\">\r\n                                    <button class=\"btn btn-primary\" type=\"button\">\r\n                                        <i class=\"fas fa-search fa-sm\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n\r\n                        <!-- Topbar Navbar -->\r\n                        <ul class=\"navbar-nav ml-auto\">\r\n                            <!-- Nav Item - Search Dropdown (Visible Only XS) -->\r\n                            <li class=\"nav-item dropdown no-arrow d-sm-none\">\r\n                                <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"searchDropdown\" role=\"button\"\r\n                                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"fas fa-search fa-fw\"></i>\r\n                                </a>\r\n                                <!-- Dropdown - Messages -->\r\n                                <div class=\"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in\"\r\n                                    aria-labelledby=\"searchDropdown\">\r\n                                    <form class=\"form-inline mr-auto w-100 navbar-search\">\r\n                                        <div class=\"input-group\">\r\n                                            <input type=\"text\" class=\"form-control bg-light border-0 small\"\r\n                                                placeholder=\"Search for...\" aria-label=\"Search\"\r\n                                                aria-describedby=\"basic-addon2\" />\r\n                                            <div class=\"input-group-append\">\r\n                                                <button class=\"btn btn-primary\" type=\"button\">\r\n                                                    <i class=\"fas fa-search fa-sm\"></i>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <!-- Nav Item - Alerts -->\r\n                            <li class=\"nav-item dropdown no-arrow mx-1\">\r\n                                <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"alertsDropdown\" role=\"button\"\r\n                                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"fas fa-bell fa-fw\"></i>\r\n                                    <!-- Counter - Alerts -->\r\n                                    <span class=\"badge badge-danger badge-counter\">3+</span>\r\n                                </a>\r\n                                <!-- Dropdown - Alerts -->\r\n                                <div class=\"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in\"\r\n                                    aria-labelledby=\"alertsDropdown\">\r\n                                    <h6 class=\"dropdown-header\">Alerts Center</h6>\r\n                                    <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                                        <div class=\"mr-3\">\r\n                                            <div class=\"icon-circle bg-primary\">\r\n                                                <i class=\"fas fa-file-alt text-white\"></i>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"small text-gray-500\">December 12, 2019</div>\r\n                                            <span class=\"font-weight-bold\">A new monthly report is ready to\r\n                                                download!</span>\r\n                                        </div>\r\n                                    </a>\r\n                                    <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                                        <div class=\"mr-3\">\r\n                                            <div class=\"icon-circle bg-success\">\r\n                                                <i class=\"fas fa-donate text-white\"></i>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"small text-gray-500\">December 7, 2019</div>\r\n                                            $290.29 has been deposited into your account!\r\n                                        </div>\r\n                                    </a>\r\n                                    <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                                        <div class=\"mr-3\">\r\n                                            <div class=\"icon-circle bg-warning\">\r\n                                                <i class=\"fas fa-exclamation-triangle text-white\"></i>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"small text-gray-500\">December 2, 2019</div>\r\n                                            Spending Alert: We've noticed unusually high spending for\r\n                                            your account.\r\n                                        </div>\r\n                                    </a>\r\n                                    <a class=\"dropdown-item text-center small text-gray-500\" href=\"#\">Show All\r\n                                        Alerts</a>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <!-- Nav Item - Messages -->\r\n                            <li class=\"nav-item dropdown no-arrow mx-1\">\r\n                                <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"messagesDropdown\" role=\"button\"\r\n                                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <i class=\"fas fa-envelope fa-fw\"></i>\r\n                                    <!-- Counter - Messages -->\r\n                                    <span class=\"badge badge-danger badge-counter\">7</span>\r\n                                </a>\r\n                                <!-- Dropdown - Messages -->\r\n                                <div class=\"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in\"\r\n                                    aria-labelledby=\"messagesDropdown\">\r\n                                    <h6 class=\"dropdown-header\">Message Center</h6>\r\n                                    <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                                        <div class=\"dropdown-list-image mr-3\">\r\n                                            <img class=\"rounded-circle\" src=\"/img/undraw_profile_1.svg\" alt=\"...\" />\r\n                                            <div class=\"status-indicator bg-success\"></div>\r\n                                        </div>\r\n                                        <div class=\"font-weight-bold\">\r\n                                            <div class=\"text-truncate\">\r\n                                                Hi there! I am wondering if you can help me with a\r\n                                                problem I've been having.\r\n                                            </div>\r\n                                            <div class=\"small text-gray-500\">Emily Fowler · 58m</div>\r\n                                        </div>\r\n                                    </a>\r\n                                    <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                                        <div class=\"dropdown-list-image mr-3\">\r\n                                            <img class=\"rounded-circle\" src=\"/img/undraw_profile_2.svg\" alt=\"...\" />\r\n                                            <div class=\"status-indicator\"></div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"text-truncate\">\r\n                                                I have the photos that you ordered last month, how would\r\n                                                you like them sent to you?\r\n                                            </div>\r\n                                            <div class=\"small text-gray-500\">Jae Chun · 1d</div>\r\n                                        </div>\r\n                                    </a>\r\n                                    <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                                        <div class=\"dropdown-list-image mr-3\">\r\n                                            <img class=\"rounded-circle\" src=\"/img/undraw_profile_3.svg\" alt=\"...\" />\r\n                                            <div class=\"status-indicator bg-warning\"></div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"text-truncate\">\r\n                                                Last month's report looks great, I am very happy with\r\n                                                the progress so far, keep up the good work!\r\n                                            </div>\r\n                                            <div class=\"small text-gray-500\">Morgan Alvarez · 2d</div>\r\n                                        </div>\r\n                                    </a>\r\n                                    <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                                        <div class=\"dropdown-list-image mr-3\">\r\n                                            <img class=\"rounded-circle\"\r\n                                                src=\"https://source.unsplash.com/Mv9hjnEUHR4/60x60\" alt=\"...\" />\r\n                                            <div class=\"status-indicator bg-success\"></div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"text-truncate\">\r\n                                                Am I a good boy? The reason I ask is because someone\r\n                                                told me that people say this to all dogs, even if they\r\n                                                aren't good...\r\n                                            </div>\r\n                                            <div class=\"small text-gray-500\">\r\n                                                Chicken the Dog · 2w\r\n                                            </div>\r\n                                        </div>\r\n                                    </a>\r\n                                    <a class=\"dropdown-item text-center small text-gray-500\" href=\"#\">Read More\r\n                                        Messages</a>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <div class=\"topbar-divider d-none d-sm-block\"></div>\r\n\r\n                            <!-- Nav Item - User Information -->\r\n                            <li class=\"nav-item dropdown no-arrow\">\r\n                                <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"userDropdown\" role=\"button\"\r\n                                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <span class=\"mr-2 d-none d-lg-inline text-gray-600 small\">Douglas McGee</span>\r\n                                    <img class=\"img-profile rounded-circle\" src=\"/img/undraw_profile.svg\" />\r\n                                </a>\r\n                                <!-- Dropdown - User Information -->\r\n                                <div class=\"dropdown-menu dropdown-menu-right shadow animated--grow-in\"\r\n                                    aria-labelledby=\"userDropdown\">\r\n                                    <a class=\"dropdown-item\" href=\"#\">\r\n                                        <i class=\"fas fa-user fa-sm fa-fw mr-2 text-gray-400\"></i>\r\n                                        Profile\r\n                                    </a>\r\n                                    <a class=\"dropdown-item\" href=\"#\">\r\n                                        <i class=\"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400\"></i>\r\n                                        Settings\r\n                                    </a>\r\n                                    <a class=\"dropdown-item\" href=\"#\">\r\n                                        <i class=\"fas fa-list fa-sm fa-fw mr-2 text-gray-400\"></i>\r\n                                        Activity Log\r\n                                    </a>\r\n                                    <div class=\"dropdown-divider\"></div>\r\n                                    <a class=\"dropdown-item\" href=\"#\" data-toggle=\"modal\" data-target=\"#logoutModal\">\r\n                                        <i class=\"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400\"></i>\r\n                                        Logout\r\n                                    </a>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </nav>\r\n                    <!-- End of Topbar -->\r\n                    <!-- Main Content -->\r\n                    <slot />\r\n                </div>\r\n\r\n                <!-- End of Main Content -->\r\n\r\n                <!-- Footer -->\r\n                <footer class=\"sticky-footer bg-white\">\r\n                    <div class=\"container my-auto\">\r\n                        <div class=\"copyright text-center my-auto\">\r\n                            <span>Copyright &copy; Your Website 2021</span>\r\n                        </div>\r\n                    </div>\r\n                </footer>\r\n                <!-- End of Footer -->\r\n            </div>\r\n            <!-- End of Content Wrapper -->\r\n        </div>\r\n        <!-- End of Page Wrapper -->\r\n\r\n        <!-- Scroll to Top Button-->\r\n        <a class=\"scroll-to-top rounded\" href=\"#page-top\">\r\n            <i class=\"fas fa-angle-up\"></i>\r\n        </a>\r\n\r\n        <!-- Logout Modal-->\r\n        <div class=\"modal fade\" id=\"logoutModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n            aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Ready to Leave?</h5>\r\n                        <button class=\"close\" type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                            <span aria-hidden=\"true\">×</span>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        Select \"Logout\" below if you are ready to end your current session.\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button class=\"btn btn-secondary\" type=\"button\" data-dismiss=\"modal\">\r\n                            Cancel\r\n                        </button>\r\n                        <a class=\"btn btn-primary\" href=\"login.html\">Logout</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport AlertComponent from \"@/components/alert_component.vue\";\r\nimport eventBus from \"@/\";\r\n\r\n// import apiClient from '@/services/ApiService';\r\nexport default {\r\n    name: 'AdminLayout',\r\n    data() {\r\n        return {\r\n            alert: {\r\n                visible: false,\r\n                message: '',\r\n                type: 'success', // success, danger, warning, info\r\n            },\r\n        };\r\n    },\r\n    components: {\r\n        AlertComponent,\r\n    },\r\n    async beforeCreate() {\r\n        // Simula una función para verificar si el usuario es administrador\r\n        // const token = localStorage.getItem('authToken');\r\n        // if (!token) {\r\n        //     this.$router.push('/login');\r\n        //     return;\r\n        // }\r\n        // try {\r\n        //     await apiClient.get('/admin/verifyAdmin', {}, {\r\n        //         headers: { Authorization: `Bearer ${token}` }\r\n        //     });\r\n        // } catch (error) {\r\n        //     console.error('Error verifying admin:', error);\r\n        //     this.$router.push('/login');\r\n        // }\r\n    },\r\n    mounted() {\r\n        if (this.$route.query.alert) {\r\n            this.alert = {\r\n                visible: true,\r\n                message: this.$route.query.alert,\r\n                type: this.$route.query.type || \"success\"\r\n            };\r\n            // Limpia la query para que no se repita al navegar\r\n            this.$router.replace({ query: null });\r\n        }\r\n        // Escucha eventos globales de alerta\r\n        eventBus.on('alert', (payload) => {\r\n            this.alert = {\r\n                visible: true,\r\n                message: payload.message,\r\n                type: payload.type || \"success\"\r\n            };\r\n        });\r\n    },\r\n\r\n    watch: {\r\n        'alert.visible'(val) {\r\n            if (val) {\r\n                setTimeout(() => {\r\n                    this.alert.visible = false;\r\n                }, 4000);\r\n            }\r\n        }\r\n    },\r\n\r\n};\r\n</script>\r\n\r\n<style>\r\n.alert-fixed-bottom-right {\r\n    position: fixed;\r\n    right: 24px;\r\n    bottom: 24px;\r\n    z-index: 9999;\r\n    min-width: 300px;\r\n    max-width: 90vw;\r\n}\r\n</style>\r\n"],"mappings":"AA+UA,OAAOA,cAAa,MAAO,kCAAkC;AAC7D,OAAOC,QAAO,MAAO,IAAI;;AAEzB;AACA,eAAe;EACXC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE;QACHC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE,SAAS,CAAE;MACrB;IACJ,CAAC;EACL,CAAC;EACDC,UAAU,EAAE;IACRR;EACJ,CAAC;EACD,MAAMS,YAAYA,CAAA,EAAG;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,CACH;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACR,KAAK,EAAE;MACzB,IAAI,CAACA,KAAI,GAAI;QACTC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,IAAI,CAACK,MAAM,CAACC,KAAK,CAACR,KAAK;QAChCG,IAAI,EAAE,IAAI,CAACI,MAAM,CAACC,KAAK,CAACL,IAAG,IAAK;MACpC,CAAC;MACD;MACA,IAAI,CAACM,OAAO,CAACC,OAAO,CAAC;QAAEF,KAAK,EAAE;MAAK,CAAC,CAAC;IACzC;IACA;IACAX,QAAQ,CAACc,EAAE,CAAC,OAAO,EAAGC,OAAO,IAAK;MAC9B,IAAI,CAACZ,KAAI,GAAI;QACTC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAEU,OAAO,CAACV,OAAO;QACxBC,IAAI,EAAES,OAAO,CAACT,IAAG,IAAK;MAC1B,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EAEDU,KAAK,EAAE;IACH,eAAeC,CAACC,GAAG,EAAE;MACjB,IAAIA,GAAG,EAAE;QACLC,UAAU,CAAC,MAAM;UACb,IAAI,CAAChB,KAAK,CAACC,OAAM,GAAI,KAAK;QAC9B,CAAC,EAAE,IAAI,CAAC;MACZ;IACJ;EACJ;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}