{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_3 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_4 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_5 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_6 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_8 = {\n  class: \"form-group mb-3\"\n};\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[19] || (_cache[19] = _createElementVNode(\"h2\", null, \"Crear Usuario\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => _ctx.createUser && _ctx.createUser(...args), [\"prevent\"])),\n    class: \"mt-4\"\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"Correo Electrónico\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.userData.email = $event),\n    class: \"form-control\",\n    placeholder: \"Correo electrónico\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.userData.email]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"password\"\n  }, \"Contraseña\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.userData.password = $event),\n    class: \"form-control\",\n    placeholder: \"Contraseña\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.userData.password]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"username\"\n  }, \"Nombre de Usuario\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.userData.username = $event),\n    class: \"form-control\",\n    placeholder: \"Nombre de usuario\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.userData.username]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"Nombre\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.userData.name = $event),\n    class: \"form-control\",\n    placeholder: \"Nombre completo\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.userData.name]])]), _createCommentVNode(\" birthdate \"), _createElementVNode(\"div\", _hoisted_6, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    for: \"birthdate\"\n  }, \"Fecha de Nacimiento\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"birthdate\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.userData.birthdate = $event),\n    class: \"form-control\",\n    placeholder: \"Fecha de nacimiento\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.userData.birthdate]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Descripción\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"description\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.userData.description = $event),\n    class: \"form-control\",\n    placeholder: \"Descripción\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.userData.description]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    for: \"is_admin\"\n  }, \"Rol\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"is_admin\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _ctx.userData.is_admin = $event),\n    class: \"form-control\",\n    onSelect: _cache[7] || (_cache[7] = (...args) => _ctx.userData.is_admin && _ctx.userData.is_admin(...args))\n  }, _cache[16] || (_cache[16] = [_createElementVNode(\"option\", {\n    value: false\n  }, \"Usuario\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: true\n  }, \"Administrador\", -1 /* HOISTED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, _ctx.userData.is_admin]])]), _cache[18] || (_cache[18] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \"Crear Usuario\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary ml-3\",\n    onClick: _cache[8] || (_cache[8] = (...args) => _ctx.cancel && _ctx.cancel(...args))\n  }, \" Cancelar \")], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","_ctx","createUser","_hoisted_2","for","type","id","$event","userData","email","placeholder","required","_hoisted_3","password","_hoisted_4","username","_hoisted_5","name","_createCommentVNode","_hoisted_6","birthdate","_hoisted_7","description","_hoisted_8","is_admin","onSelect","value","onClick","cancel"],"sources":["D:\\Downloads\\BookSharing_SocialNetwork\\fronvue\\src\\components\\admin\\user-create_component.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-4\">\r\n        <h2>Crear Usuario</h2>\r\n        <form @submit.prevent=\"createUser\" class=\"mt-4\">\r\n\r\n            <div class=\"form-group mb-3\">\r\n                <label for=\"email\">Correo Electrónico</label>\r\n                <input type=\"email\" id=\"email\" v-model=\"userData.email\" class=\"form-control\"\r\n                    placeholder=\"Correo electrónico\" required />\r\n            </div>\r\n            <div class=\"form-group mb-3\">\r\n                <label for=\"password\">Contraseña</label>\r\n                <input type=\"password\" id=\"password\" v-model=\"userData.password\" class=\"form-control\"\r\n                    placeholder=\"Contraseña\" required />\r\n            </div>\r\n            <div class=\"form-group mb-3\">\r\n                <label for=\"username\">Nombre de Usuario</label>\r\n                <input type=\"text\" id=\"username\" v-model=\"userData.username\" class=\"form-control\"\r\n                    placeholder=\"Nombre de usuario\" required />\r\n            </div>\r\n            <div class=\"form-group mb-3\">\r\n                <label for=\"name\">Nombre</label>\r\n                <input type=\"text\" id=\"name\" v-model=\"userData.name\" class=\"form-control\" placeholder=\"Nombre completo\"\r\n                    required />\r\n            </div>\r\n            <!-- birthdate -->\r\n            <div class=\"form-group mb-3\">\r\n                <label for=\"birthdate\">Fecha de Nacimiento</label>\r\n                <input type=\"date\" id=\"birthdate\" v-model=\"userData.birthdate\" class=\"form-control\"\r\n                    placeholder=\"Fecha de nacimiento\" required />\r\n            </div>\r\n            <div class=\"form-group mb-3\">\r\n                <label for=\"description\">Descripción</label>\r\n                <textarea id=\"description\" v-model=\"userData.description\" class=\"form-control\"\r\n                    placeholder=\"Descripción\"></textarea>\r\n            </div>\r\n            <div class=\"form-group mb-3\">\r\n                <label for=\"is_admin\">Rol</label>\r\n                <select id=\"is_admin\" v-model=\"userData.is_admin\" class=\"form-control\" v-on:select=\"userData.is_admin\">\r\n                    <option :value=\"false\">Usuario</option>\r\n                    <option :value=\"true\">Administrador</option>\r\n                </select>\r\n            </div>\r\n\r\n            <button type=\"submit\" class=\"btn btn-primary\">Crear Usuario</button>\r\n            <button type=\"button\" class=\"btn btn-secondary ml-3\" @click=\"cancel\">\r\n                Cancelar\r\n            </button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport apiClient from \"@/services/ApiService\";\r\n// import eventBus from \"@/eventBus.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            userData: {\r\n                email: \"\",\r\n                password: \"\",\r\n                username: \"\",\r\n                name: \"\",\r\n                birthdate: \"\",\r\n                description: \"\",\r\n                is_admin: false,\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        async createUser() {\r\n\r\n            try {\r\n                const token = localStorage.getItem(\"authToken\");\r\n                await apiClient.post(\r\n                    \"/users\",\r\n                    this.userData,\r\n                    {\r\n                        headers: {\r\n                            Authorization: `Bearer ${token}`\r\n                        }\r\n                    }\r\n                );\r\n            } catch (error) {\r\n\r\n                if (error.response.status === 403 || error.response.status === 401) {\r\n                    this.$router.push(\"/login\");\r\n                } else\r\n                            //     eventBus.emit('alert', { message: \"Error al crear el usuario.\", type: \"danger\" });\r\n\r\n            }\r\n\r\n            // if (response.data.error) {\r\n            //     alert('error');\r\n            //     eventBus.emit('alert', { message: response.data.error, type: \"danger\" });\r\n            //     return;\r\n            // }\r\n            // try {\r\n\r\n            //     console.log(\"Usuario creado:\", response.data);\r\n            //     return response.data;\r\n            //     // this.$router.push({\r\n            //     //     path: \"/admin/users-list\",\r\n            //     //     query: { alert: \"Usuario creado exitosamente\", type: \"success\" }\r\n            //     // });\r\n            //     // Redirige a la lista de usuarios\r\n            // } catch (error) {\r\n            //     // Manejo de errores\r\n            //     console.error(\"Error al crear el usuario:\", error.response?.data || error);\r\n            //     eventBus.emit('alert', { message: \"Error al crear el usuario.\", type: \"danger\" });\r\n\r\n            // }\r\n        },\r\n        cancel() {\r\n            this.$router.push(\"/admin/users-list\"); // Redirige a la lista de usuarios\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n    max-width: 600px;\r\n}\r\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAAgB;;EAIdA,KAAK,EAAC;AAAiB;;EAKvBA,KAAK,EAAC;AAAiB;;EAKvBA,KAAK,EAAC;AAAiB;;EAKvBA,KAAK,EAAC;AAAiB;;EAMvBA,KAAK,EAAC;AAAiB;;EAKvBA,KAAK,EAAC;AAAiB;;EAKvBA,KAAK,EAAC;AAAiB;;uBAnCpCC,mBAAA,CAgDM,OAhDNC,UAgDM,G,4BA/CFC,mBAAA,CAAsB,YAAlB,eAAa,sBACjBA,mBAAA,CA6CO;IA7CAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHrBC,cAAA,KAAAC,IAAA,KAG+BC,IAAA,CAAAC,UAAA,IAAAD,IAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;IAAEP,KAAK,EAAC;MAErCG,mBAAA,CAIM,OAJNO,UAIM,G,4BAHFP,mBAAA,CAA6C;IAAtCQ,GAAG,EAAC;EAAO,GAAC,oBAAkB,sB,gBACrCR,mBAAA,CACgD;IADzCS,IAAI,EAAC,OAAO;IAACC,EAAE,EAAC,OAAO;IAP9C,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IAOwDN,IAAA,CAAAO,QAAQ,CAACC,KAAK,GAAAF,MAAA;IAAEd,KAAK,EAAC,cAAc;IACxEiB,WAAW,EAAC,oBAAoB;IAACC,QAAQ,EAAR;iDADGV,IAAA,CAAAO,QAAQ,CAACC,KAAK,E,KAG1Db,mBAAA,CAIM,OAJNgB,UAIM,G,4BAHFhB,mBAAA,CAAwC;IAAjCQ,GAAG,EAAC;EAAU,GAAC,YAAU,sB,gBAChCR,mBAAA,CACwC;IADjCS,IAAI,EAAC,UAAU;IAACC,EAAE,EAAC,UAAU;IAZpD,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IAY8DN,IAAA,CAAAO,QAAQ,CAACK,QAAQ,GAAAN,MAAA;IAAEd,KAAK,EAAC,cAAc;IACjFiB,WAAW,EAAC,YAAY;IAACC,QAAQ,EAAR;iDADiBV,IAAA,CAAAO,QAAQ,CAACK,QAAQ,E,KAGnEjB,mBAAA,CAIM,OAJNkB,UAIM,G,4BAHFlB,mBAAA,CAA+C;IAAxCQ,GAAG,EAAC;EAAU,GAAC,mBAAiB,sB,gBACvCR,mBAAA,CAC+C;IADxCS,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,UAAU;IAjBhD,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IAiB0DN,IAAA,CAAAO,QAAQ,CAACO,QAAQ,GAAAR,MAAA;IAAEd,KAAK,EAAC,cAAc;IAC7EiB,WAAW,EAAC,mBAAmB;IAACC,QAAQ,EAAR;iDADMV,IAAA,CAAAO,QAAQ,CAACO,QAAQ,E,KAG/DnB,mBAAA,CAIM,OAJNoB,UAIM,G,4BAHFpB,mBAAA,CAAgC;IAAzBQ,GAAG,EAAC;EAAM,GAAC,QAAM,sB,gBACxBR,mBAAA,CACe;IADRS,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,MAAM;IAtB5C,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IAsBsDN,IAAA,CAAAO,QAAQ,CAACS,IAAI,GAAAV,MAAA;IAAEd,KAAK,EAAC,cAAc;IAACiB,WAAW,EAAC,iBAAiB;IACnGC,QAAQ,EAAR;iDADkCV,IAAA,CAAAO,QAAQ,CAACS,IAAI,E,KAGvDC,mBAAA,eAAkB,EAClBtB,mBAAA,CAIM,OAJNuB,UAIM,G,4BAHFvB,mBAAA,CAAkD;IAA3CQ,GAAG,EAAC;EAAW,GAAC,qBAAmB,sB,gBAC1CR,mBAAA,CACiD;IAD1CS,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,WAAW;IA5BjD,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IA4B2DN,IAAA,CAAAO,QAAQ,CAACY,SAAS,GAAAb,MAAA;IAAEd,KAAK,EAAC,cAAc;IAC/EiB,WAAW,EAAC,qBAAqB;IAACC,QAAQ,EAAR;iDADKV,IAAA,CAAAO,QAAQ,CAACY,SAAS,E,KAGjExB,mBAAA,CAIM,OAJNyB,UAIM,G,4BAHFzB,mBAAA,CAA4C;IAArCQ,GAAG,EAAC;EAAa,GAAC,aAAW,sB,gBACpCR,mBAAA,CACyC;IAD/BU,EAAE,EAAC,aAAa;IAjC1C,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IAiCoDN,IAAA,CAAAO,QAAQ,CAACc,WAAW,GAAAf,MAAA;IAAEd,KAAK,EAAC,cAAc;IAC1EiB,WAAW,EAAC;iDADoBT,IAAA,CAAAO,QAAQ,CAACc,WAAW,E,KAG5D1B,mBAAA,CAMM,OANN2B,UAMM,G,4BALF3B,mBAAA,CAAiC;IAA1BQ,GAAG,EAAC;EAAU,GAAC,KAAG,sB,gBACzBR,mBAAA,CAGS;IAHDU,EAAE,EAAC,UAAU;IAtCrC,uBAAAR,MAAA,QAAAA,MAAA,MAAAS,MAAA,IAsC+CN,IAAA,CAAAO,QAAQ,CAACgB,QAAQ,GAAAjB,MAAA;IAAEd,KAAK,EAAC,cAAc;IAAMgC,QAAM,EAAA3B,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,IAAA,CAAAO,QAAQ,CAACgB,QAAQ,IAAjBvB,IAAA,CAAAO,QAAQ,CAACgB,QAAQ,IAAAxB,IAAA;kCACjGJ,mBAAA,CAAuC;IAA9B8B,KAAK,EAAE;EAAK,GAAE,SAAO,qBAC9B9B,mBAAA,CAA4C;IAAnC8B,KAAK,EAAE;EAAI,GAAE,eAAa,oB,2DAFRzB,IAAA,CAAAO,QAAQ,CAACgB,QAAQ,E,iCAMpD5B,mBAAA,CAAoE;IAA5DS,IAAI,EAAC,QAAQ;IAACZ,KAAK,EAAC;KAAkB,eAAa,sBAC3DG,mBAAA,CAES;IAFDS,IAAI,EAAC,QAAQ;IAACZ,KAAK,EAAC,wBAAwB;IAAEkC,OAAK,EAAA7B,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,IAAA,CAAA2B,MAAA,IAAA3B,IAAA,CAAA2B,MAAA,IAAA5B,IAAA,CAAM;KAAE,YAErE,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}