{"ast":null,"code":"import MainLayout from \"@/layouts/MainLayout.vue\";\nimport apiClient from \"../services/ApiService.js\";\nimport PdfPreview from \"@/components/pdfpreview_component.vue\";\nexport default {\n  data() {\n    return {\n      categories: [],\n      post: {\n        id: null,\n        title: \"\",\n        description: \"\",\n        user_id: null,\n        image: \"\",\n        pdf_file: \"\",\n        created_at: \"\",\n        updated_at: \"\",\n        views: 0,\n        category_id: null,\n        username: \"\"\n      },\n      loading: true,\n      error: null\n    };\n  },\n  async beforeMount() {\n    try {\n      this.post.id = this.$route.params.postId;\n      if (this.post.id == null || this.post.id == undefined) {\n        this.error = \"No se pudo cargar la información del libro.\";\n        return;\n      }\n      const response = await apiClient.get(`/posts/${this.$route.params.postId}`);\n      // formatea en español 2025-05-19T16:53:10.117Z a una fecha legible\n      const date = new Date(response.data.created_at);\n      const options = {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      };\n      const formattedDate = date.toLocaleDateString(\"es-ES\", options);\n      this.post = response.data;\n      this.post.created_at = formattedDate;\n      // this.loading = false;\n    } catch (err) {\n      this.error = \"No se pudo cargar la información del libro.\";\n      this.loading = false;\n    }\n    // consultar todas las categorias\n    // token\n    try {\n      const res = await apiClient.get(\"/admin/categories\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n        }\n      });\n      this.categories = res.data;\n    } catch (err) {\n      this.error = \"No se pudo cargar la información de las categorias.\";\n    }\n  },\n  components: {\n    MainLayout,\n    PdfPreview\n  }\n};","map":{"version":3,"names":["MainLayout","apiClient","PdfPreview","data","categories","post","id","title","description","user_id","image","pdf_file","created_at","updated_at","views","category_id","username","loading","error","beforeMount","$route","params","postId","undefined","response","get","date","Date","options","year","month","day","formattedDate","toLocaleDateString","err","res","headers","Authorization","localStorage","getItem","components"],"sources":["D:\\Downloads\\BookSharing_SocialNetwork\\fronvue\\src\\views\\post_view.vue"],"sourcesContent":["<template>\r\n  <MainLayout>\r\n    <div class=\"bg-secondary py-4\">\r\n      <div class=\"container d-lg-flex justify-content-between py-2 py-lg-3\">\r\n        <div class=\"order-lg-2 mb-3 mb-lg-0 pt-lg-2\">\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol\r\n              class=\"breadcrumb flex-lg-nowrap justify-content-center justify-content-lg-start\"\r\n              style=\"background-color: unset\"\r\n            >\r\n              <li class=\"breadcrumb-item\">\r\n                <a class=\"text-nowrap\" href=\"/\"\r\n                  ><i class=\"ci-home\"></i>Inicio</a\r\n                >\r\n              </li>\r\n              <li\r\n                class=\"breadcrumb-item text-nowrap active\"\r\n                aria-current=\"page\"\r\n              >\r\n                Ver libro\r\n              </li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n\r\n        <div\r\n          class=\"order-lg-1 pe-lg-4 text-center text-lg-start align-self-center\"\r\n        >\r\n          <h1 class=\"h3 mb-0\" style=\"display: flex; align-items: anchor-center\">\r\n            {{ post.title }}\r\n\r\n            <a class=\"btn-tag ml-2\" href=\"#\">Realismo magico</a>\r\n          </h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"container pb-5\">\r\n      <div class=\"row pt-5 mt-md-2\">\r\n        <section class=\"col-lg-8\">\r\n          <!-- Post meta-->\r\n          <div\r\n            class=\"d-flex flex-wrap justify-content-between align-items-center pb-4 mt-n1\"\r\n          >\r\n            <div class=\"d-flex align-items-center fs-sm mb-2\">\r\n              <a class=\"blog-entry-meta-link\" href=\"#\">\r\n                <div class=\"blog-entry-author-ava\">\r\n                  <img src=\"../../dist/img/blog/meta/02.jpg\" alt=\"Foto\" />\r\n                </div>\r\n                {{ post.username }} </a\r\n              ><span class=\"blog-entry-meta-divider\"></span\r\n              ><a class=\"blog-entry-meta-link\" href=\"#\">{{\r\n                post.created_at\r\n              }}</a>\r\n            </div>\r\n            <div class=\"fs-sm mb-2\">\r\n              <a\r\n                class=\"blog-entry-meta-link text-nowrap mr-3\"\r\n                href=\"#comments\"\r\n                data-scroll=\"\"\r\n                ><i class=\"ci-eye\"></i>{{ post.views }}</a\r\n              >\r\n              <a\r\n                class=\"blog-entry-meta-link text-nowrap mr-3\"\r\n                href=\"#comments\"\r\n                data-scroll=\"\"\r\n                ><i class=\"ci-heart\"></i>{{ post.total_likes }}</a\r\n              >\r\n            </div>\r\n          </div>\r\n          <!-- Gallery-->\r\n          <h2 class=\"h4\"></h2>\r\n\r\n          <div class=\"gallery pb-2 text-center\" lg-uid=\"lg0\">\r\n            <img\r\n              width=\"300px\"\r\n              src=\"https://tunovela.es/wp-content/uploads/Cien-anos-de-soledad-de-Gabriel-Garcia-Marquez-resumen-y-analisis.jpg\"\r\n              alt=\"Gallery image\"\r\n            />\r\n          </div>\r\n          <!-- Post content-->\r\n          <p class=\"mt-2\">\r\n            \"Cien años de soledad\" narra la historia de la familia Buendía,\r\n            desde su fundación en el pueblo de Macondo hasta su declive y\r\n            desaparición. A lo largo de siete generaciones, los Buendía\r\n            experimentan amores imposibles, tragedias, guerras y una maldición\r\n            que los condena a una profunda soledad.\r\n          </p>\r\n\r\n          <!-- ver pdf button -->\r\n          <!-- <div class=\"mt-3 me-3\"><a class=\"btn-tag mb-2\" href=\"#\">Ver PDF</a></div> -->\r\n\r\n          <!-- Post tags + sharing-->\r\n          <div class=\"d-flex flex-wrap justify-content-between pb-4 mb-1\">\r\n            <div class=\"mt-2 me-3\">\r\n              <PdfPreview\r\n                v-if=\"post.pdf_file\"\r\n                :pdfUrl=\"post.pdf_file\"\r\n                :postId=\"post.postId\"\r\n              />\r\n            </div>\r\n            <div class=\"mt-3\">\r\n              <span\r\n                class=\"d-inline-block align-middle text-muted fs-sm me-3 mt-1 mb-2\"\r\n                >Compartir libro:</span\r\n              ><a class=\"btn-social bs-facebook me-2 mb-2\" href=\"#\"\r\n                ><i class=\"ci-facebook\"></i></a\r\n              ><a class=\"btn-social bs-twitter me-2 mb-2\" href=\"#\"\r\n                ><i class=\"ci-twitter\"></i></a\r\n              ><a class=\"btn-social bs-pinterest me-2 mb-2\" href=\"#\"\r\n                ><i class=\"ci-pinterest\"></i\r\n              ></a>\r\n            </div>\r\n          </div>\r\n          <!-- Post navigation-->\r\n          <nav class=\"entry-navigation\" aria-label=\"Post navigation\">\r\n            <a\r\n              class=\"entry-navigation-link\"\r\n              href=\"#\"\r\n              data-bs-toggle=\"popover\"\r\n              data-bs-placement=\"top\"\r\n              data-bs-trigger=\"hover\"\r\n              data-bs-html=\"true\"\r\n              data-bs-content='<div class=\"d-flex align-items-center\"><img src=\"img/blog/navigation/01.jpg\" width=\"60\" class=\"rounded\" alt=\"Post thumb\"><div class=\"ps-3\"><h6 class=\"fs-sm fw-semibold mb-0\">How to choose perfect shoes for running</h6><span class=\"d-block fs-xs text-muted\">by Susan Mayer</span></div></div>'\r\n              data-bs-original-title=\"\"\r\n              title=\"\"\r\n              ><i class=\"ci-arrow-left me-2\"></i\r\n              ><span class=\"d-none d-sm-inline\">Ant libro</span></a\r\n            ><a class=\"entry-navigation-link\" href=\"blog-list.html\"\r\n              ><i class=\"ci-view-list me-2\"></i\r\n              ><span class=\"d-none d-sm-inline\">Ver libros</span></a\r\n            ><a\r\n              class=\"entry-navigation-link\"\r\n              href=\"#\"\r\n              data-bs-toggle=\"popover\"\r\n              data-bs-placement=\"top\"\r\n              data-bs-trigger=\"hover\"\r\n              data-bs-html=\"true\"\r\n              data-bs-content='<div class=\"d-flex align-items-center\"><img src=\"img/blog/navigation/02.jpg\" width=\"60\" class=\"rounded\" alt=\"Post thumb\"><div class=\"ps-3\"><h6  class=\"fs-sm fw-semibold mb-0\">Factors behind smart watches popularity</h6><span class=\"d-block fs-xs text-muted\">by Logan Coleman</span></div></div>'\r\n              data-bs-original-title=\"\"\r\n              title=\"\"\r\n              ><span class=\"d-none d-sm-inline\">Sig libro</span\r\n              ><i class=\"ci-arrow-right ms-2\"></i\r\n            ></a>\r\n          </nav>\r\n        </section>\r\n        <aside class=\"col-lg-4\">\r\n          <!-- Sidebar-->\r\n          <div\r\n            class=\"offcanvas offcanvas-collapse offcanvas-end border-start ms-lg-auto\"\r\n            id=\"blog-sidebar\"\r\n            style=\"max-width: 22rem\"\r\n          >\r\n            <div class=\"offcanvas-header align-items-center shadow-sm\">\r\n              <h2 class=\"h5 mb-0\">Sidebar</h2>\r\n              <button\r\n                class=\"btn-close ms-auto\"\r\n                type=\"button\"\r\n                data-bs-dismiss=\"offcanvas\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div\r\n              class=\"offcanvas-body py-grid-gutter py-lg-1 px-lg-4\"\r\n              data-simplebar=\"init\"\r\n              data-simplebar-auto-hide=\"true\"\r\n            >\r\n              <div class=\"simplebar-wrapper\" style=\"margin: -4px -24px\">\r\n                <div class=\"simplebar-height-auto-observer-wrapper\">\r\n                  <div class=\"simplebar-height-auto-observer\"></div>\r\n                </div>\r\n                <div class=\"simplebar-mask\">\r\n                  <div class=\"simplebar-offset\" style=\"right: 0px; bottom: 0px\">\r\n                    <div\r\n                      class=\"simplebar-content-wrapper\"\r\n                      tabindex=\"0\"\r\n                      role=\"region\"\r\n                      aria-label=\"scrollable content\"\r\n                      style=\"height: auto; overflow: hidden\"\r\n                    >\r\n                      <div class=\"simplebar-content\" style=\"padding: 4px 24px\">\r\n                        <!-- Categories-->\r\n                        <div\r\n                          class=\"widget widget-links mb-grid-gutter pb-grid-gutter border-bottom mx-lg-2\"\r\n                        >\r\n                          <h3 class=\"widget-title\">Categorías libros</h3>\r\n                          <ul class=\"widget-list\">\r\n                            <li\r\n                              v-for=\"cat in categories\"\r\n                              :key=\"cat.id\"\r\n                              class=\"widget-list-item\"\r\n                            >\r\n                              <RouterLink\r\n                                class=\"widget-list-link d-flex justify-content-between align-items-center\"\r\n                                :to=\"`/category/${cat.id}`\"\r\n                              >\r\n                                <span>{{ cat.name }}</span>\r\n                                <span class=\"fs-xs text-muted ms-3\">{{\r\n                                  cat.post_count\r\n                                }}</span>\r\n                              </RouterLink>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                        <!-- Trending posts-->\r\n                        <div\r\n                          class=\"widget mb-grid-gutter pb-grid-gutter border-bottom mx-lg-2\"\r\n                        >\r\n                          <h3 class=\"widget-title\">Libros en tendencia</h3>\r\n                          <div class=\"d-flex align-items-center mb-3\">\r\n                            <a class=\"flex-shrink-0\" href=\"blog-single.html\"\r\n                              ><img\r\n                                class=\"rounded\"\r\n                                src=\"https://tunovela.es/wp-content/uploads/Cien-anos-de-soledad-de-Gabriel-Garcia-Marquez-resumen-y-analisis.jpg\"\r\n                                width=\"64\"\r\n                                alt=\"Post image\"\r\n                            /></a>\r\n                            <div class=\"ps-3\">\r\n                              <h6 class=\"blog-entry-title fs-sm mb-0\">\r\n                                <a href=\"blog-single.html\"\r\n                                  >Retro Cameras are Trending. Why so\r\n                                  Popular?</a\r\n                                >\r\n                              </h6>\r\n                              <span class=\"fs-ms text-muted\"\r\n                                >by\r\n                                <a href=\"#\" class=\"blog-entry-meta-link\"\r\n                                  >Andy Williams</a\r\n                                ></span\r\n                              >\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"d-flex align-items-center mb-3\">\r\n                            <a class=\"flex-shrink-0\" href=\"blog-single.html\"\r\n                              ><img\r\n                                class=\"rounded\"\r\n                                src=\"https://tunovela.es/wp-content/uploads/Cien-anos-de-soledad-de-Gabriel-Garcia-Marquez-resumen-y-analisis.jpg\"\r\n                                width=\"64\"\r\n                                alt=\"Post image\"\r\n                            /></a>\r\n                            <div class=\"ps-3\">\r\n                              <h6 class=\"blog-entry-title fs-sm mb-0\">\r\n                                <a href=\"blog-single.html\"\r\n                                  >New Trends in Suburban Fashion</a\r\n                                >\r\n                              </h6>\r\n                              <span class=\"fs-ms text-muted\"\r\n                                >by\r\n                                <a href=\"#\" class=\"blog-entry-meta-link\"\r\n                                  >Susan Mayer</a\r\n                                ></span\r\n                              >\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"d-flex align-items-center mb-3\">\r\n                            <a class=\"flex-shrink-0\" href=\"blog-single.html\"\r\n                              ><img\r\n                                class=\"rounded\"\r\n                                src=\"https://tunovela.es/wp-content/uploads/Cien-anos-de-soledad-de-Gabriel-Garcia-Marquez-resumen-y-analisis.jpg\"\r\n                                width=\"64\"\r\n                                alt=\"Post image\"\r\n                            /></a>\r\n                            <div class=\"ps-3\">\r\n                              <h6 class=\"blog-entry-title fs-sm mb-0\">\r\n                                <a href=\"blog-single.html\"\r\n                                  >New Trends in Suburban Fashion</a\r\n                                >\r\n                              </h6>\r\n                              <span class=\"fs-ms text-muted\"\r\n                                >by\r\n                                <a href=\"#\" class=\"blog-entry-meta-link\"\r\n                                  >Susan Mayer</a\r\n                                ></span\r\n                              >\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"d-flex align-items-center mb-3\">\r\n                            <a class=\"flex-shrink-0\" href=\"blog-single.html\"\r\n                              ><img\r\n                                class=\"rounded\"\r\n                                src=\"https://tunovela.es/wp-content/uploads/Cien-anos-de-soledad-de-Gabriel-Garcia-Marquez-resumen-y-analisis.jpg\"\r\n                                width=\"64\"\r\n                                alt=\"Post image\"\r\n                            /></a>\r\n                            <div class=\"ps-3\">\r\n                              <h6 class=\"blog-entry-title fs-sm mb-0\">\r\n                                <a href=\"blog-single.html\"\r\n                                  >New Trends in Suburban Fashion</a\r\n                                >\r\n                              </h6>\r\n                              <span class=\"fs-ms text-muted\"\r\n                                >by\r\n                                <a href=\"#\" class=\"blog-entry-meta-link\"\r\n                                  >Susan Mayer</a\r\n                                ></span\r\n                              >\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"d-flex align-items-center\">\r\n                            <a class=\"flex-shrink-0\" href=\"blog-single.html\"\r\n                              ><img\r\n                                class=\"rounded\"\r\n                                src=\"https://tunovela.es/wp-content/uploads/Cien-anos-de-soledad-de-Gabriel-Garcia-Marquez-resumen-y-analisis.jpg\"\r\n                                width=\"64\"\r\n                                alt=\"Post image\"\r\n                            /></a>\r\n                            <div class=\"ps-3\">\r\n                              <h6 class=\"blog-entry-title fs-sm mb-0\">\r\n                                <a href=\"blog-single.html\"\r\n                                  >Augmented Reality - Game Changing\r\n                                  Technology</a\r\n                                >\r\n                              </h6>\r\n                              <span class=\"fs-ms text-muted\"\r\n                                >by\r\n                                <a href=\"#\" class=\"blog-entry-meta-link\"\r\n                                  >John Doe</a\r\n                                ></span\r\n                              >\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  class=\"simplebar-placeholder\"\r\n                  style=\"width: auto; height: 1081px\"\r\n                ></div>\r\n              </div>\r\n              <div\r\n                class=\"simplebar-track simplebar-horizontal\"\r\n                style=\"visibility: hidden\"\r\n              >\r\n                <div\r\n                  class=\"simplebar-scrollbar\"\r\n                  style=\"width: 0px; display: none\"\r\n                ></div>\r\n              </div>\r\n              <div\r\n                class=\"simplebar-track simplebar-vertical\"\r\n                style=\"visibility: hidden\"\r\n              >\r\n                <div\r\n                  class=\"simplebar-scrollbar\"\r\n                  style=\"height: 0px; display: none\"\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n      </div>\r\n    </div>\r\n  </MainLayout>\r\n</template>\r\n\r\n<script>\r\nimport MainLayout from \"@/layouts/MainLayout.vue\";\r\nimport apiClient from \"../services/ApiService.js\";\r\nimport PdfPreview from \"@/components/pdfpreview_component.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      categories: [],\r\n      post: {\r\n        id: null,\r\n        title: \"\",\r\n        description: \"\",\r\n        user_id: null,\r\n        image: \"\",\r\n        pdf_file: \"\",\r\n        created_at: \"\",\r\n        updated_at: \"\",\r\n        views: 0,\r\n        category_id: null,\r\n        username: \"\",\r\n      },\r\n      loading: true,\r\n      error: null,\r\n    };\r\n  },\r\n  async beforeMount() {\r\n    try {\r\n      this.post.id = this.$route.params.postId;\r\n      if (this.post.id == null || this.post.id == undefined) {\r\n        this.error = \"No se pudo cargar la información del libro.\";\r\n        return;\r\n      }\r\n\r\n      const response = await apiClient.get(\r\n        `/posts/${this.$route.params.postId}`\r\n      );\r\n      // formatea en español 2025-05-19T16:53:10.117Z a una fecha legible\r\n      const date = new Date(response.data.created_at);\r\n      const options = { year: \"numeric\", month: \"long\", day: \"numeric\" };\r\n      const formattedDate = date.toLocaleDateString(\"es-ES\", options);\r\n      this.post = response.data;\r\n      this.post.created_at = formattedDate;\r\n      // this.loading = false;\r\n    } catch (err) {\r\n      this.error = \"No se pudo cargar la información del libro.\";\r\n      this.loading = false;\r\n    }\r\n    // consultar todas las categorias\r\n    // token\r\n    try {\r\n      const res = await apiClient.get(\"/admin/categories\", {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`,\r\n        },\r\n      });\r\n      this.categories = res.data;\r\n    } catch (err) {\r\n      this.error = \"No se pudo cargar la información de las categorias.\";\r\n    }\r\n  },\r\n  components: { MainLayout, PdfPreview },\r\n};\r\n</script>\r\n"],"mappings":"AAqWA,OAAOA,UAAS,MAAO,0BAA0B;AACjD,OAAOC,SAAQ,MAAO,2BAA2B;AACjD,OAAOC,UAAS,MAAO,uCAAuC;AAE9D,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,IAAI,EAAE;QACJC,EAAE,EAAE,IAAI;QACRC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,IAAI;QACbC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE,EAAE;QACdC,UAAU,EAAE,EAAE;QACdC,KAAK,EAAE,CAAC;QACRC,WAAW,EAAE,IAAI;QACjBC,QAAQ,EAAE;MACZ,CAAC;MACDC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACD,MAAMC,WAAWA,CAAA,EAAG;IAClB,IAAI;MACF,IAAI,CAACd,IAAI,CAACC,EAAC,GAAI,IAAI,CAACc,MAAM,CAACC,MAAM,CAACC,MAAM;MACxC,IAAI,IAAI,CAACjB,IAAI,CAACC,EAAC,IAAK,IAAG,IAAK,IAAI,CAACD,IAAI,CAACC,EAAC,IAAKiB,SAAS,EAAE;QACrD,IAAI,CAACL,KAAI,GAAI,6CAA6C;QAC1D;MACF;MAEA,MAAMM,QAAO,GAAI,MAAMvB,SAAS,CAACwB,GAAG,CAClC,UAAU,IAAI,CAACL,MAAM,CAACC,MAAM,CAACC,MAAM,EACrC,CAAC;MACD;MACA,MAAMI,IAAG,GAAI,IAAIC,IAAI,CAACH,QAAQ,CAACrB,IAAI,CAACS,UAAU,CAAC;MAC/C,MAAMgB,OAAM,GAAI;QAAEC,IAAI,EAAE,SAAS;QAAEC,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAU,CAAC;MAClE,MAAMC,aAAY,GAAIN,IAAI,CAACO,kBAAkB,CAAC,OAAO,EAAEL,OAAO,CAAC;MAC/D,IAAI,CAACvB,IAAG,GAAImB,QAAQ,CAACrB,IAAI;MACzB,IAAI,CAACE,IAAI,CAACO,UAAS,GAAIoB,aAAa;MACpC;IACF,EAAE,OAAOE,GAAG,EAAE;MACZ,IAAI,CAAChB,KAAI,GAAI,6CAA6C;MAC1D,IAAI,CAACD,OAAM,GAAI,KAAK;IACtB;IACA;IACA;IACA,IAAI;MACF,MAAMkB,GAAE,GAAI,MAAMlC,SAAS,CAACwB,GAAG,CAAC,mBAAmB,EAAE;QACnDW,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;QAC5D;MACF,CAAC,CAAC;MACF,IAAI,CAACnC,UAAS,GAAI+B,GAAG,CAAChC,IAAI;IAC5B,EAAE,OAAO+B,GAAG,EAAE;MACZ,IAAI,CAAChB,KAAI,GAAI,qDAAqD;IACpE;EACF,CAAC;EACDsB,UAAU,EAAE;IAAExC,UAAU;IAAEE;EAAW;AACvC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}