(function(){"use strict";var e={9285:function(e,t,o){var r=o(5688),a=o(6768);function s(e,t,o,r,s,n){const i=(0,a.g2)("MainLayout");return(0,a.uX)(),(0,a.Wv)(i)}var n=o(5187);const i={class:"layout-container"},l={key:0,class:"sidebar"},c={class:"content"};function d(e,t,o,r,s,d){const u=(0,a.g2)("NavComponent"),p=(0,a.g2)("search-component"),f=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["main-layout",{"sidebar-open":s.isSidebarOpen}])},[s.isAuthenticated?((0,a.uX)(),(0,a.Wv)(u,{key:0,onSearch:d.handleSearch,onSidebarToggled:d.toggleSidebar},null,8,["onSearch","onSidebarToggled"])):(0,a.Q3)("",!0),(0,a.Lk)("div",i,[s.isAuthenticated?((0,a.uX)(),(0,a.CE)("aside",l,[s.showSearch?((0,a.uX)(),(0,a.Wv)(p,{key:0})):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.Lk)("main",c,[(0,a.bF)(f)])])],2)}const u={class:"search-bar"},p={key:0,class:"list-group mt-2"},f=["onClick"];function h(e,t,o,s,i,l){return(0,a.uX)(),(0,a.CE)("div",u,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>l.searchUser&&l.searchUser(...e)),placeholder:"Buscar usuario...",class:"form-control"},null,544),[[r.Jo,i.searchQuery]]),i.users.length?((0,a.uX)(),(0,a.CE)("ul",p,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.users,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"list-group-item",onClick:t=>l.goToProfile(e.username)},(0,n.v_)(e.username)+" ("+(0,n.v_)(e.name)+") ",9,f)))),128))])):(0,a.Q3)("",!0)])}o(4114);var m=o(4373);const g=m.A.create({baseURL:"http://localhost:4000/api",timeout:5e3});var k=g,b={data(){return{searchQuery:"",users:[]}},methods:{async searchUser(){if(this.searchQuery.length>2)try{const e=await k.get("/search",{params:{query:this.searchQuery}});console.log("Datos recibidos desde el backend:",e.data),this.users=e.data}catch(e){console.error("Error al buscar usuarios:",e)}else this.users=[]},goToProfile(e){this.$router.push(`/profile/${e}`)}}},v=o(1241);const w=(0,v.A)(b,[["render",h]]);var L=w;const y={class:"profile-section text-center py-4"},C=["src"],P={class:"text-dark"},I={class:"text-muted"},E={class:"list-group list-group-flush"},D={key:0,class:"search-bar p-3"},S={key:0,class:"list-group mt-2"},_=["onClick"];function A(e,t,o,s,i,l){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e)),class:"toggle-button"}," ☰ "),(0,a.Lk)("div",{class:(0,n.C4)(["sidebar",{open:i.isSidebarOpen}])},[(0,a.Lk)("div",y,[i.profileData.username?((0,a.uX)(),(0,a.CE)("img",{key:0,src:l.getProfileImage(),class:"profile-picture rounded-circle mb-3",alt:"Profile"},null,8,C)):(0,a.Q3)("",!0),(0,a.Lk)("h5",P,(0,n.v_)(i.profileData.name),1),(0,a.Lk)("p",I,(0,n.v_)(i.profileData.username||""),1)]),(0,a.Lk)("ul",E,[(0,a.Lk)("li",{class:"list-group-item list-group-item-action",onClick:t[1]||(t[1]=(...e)=>l.navigateToHome&&l.navigateToHome(...e))},t[7]||(t[7]=[(0,a.Lk)("i",{class:"fa fa-home"},null,-1),(0,a.eW)(" Inicio ")])),(0,a.Lk)("li",{class:"list-group-item list-group-item-action",onClick:t[2]||(t[2]=(...e)=>l.navigateToProfile&&l.navigateToProfile(...e))},t[8]||(t[8]=[(0,a.Lk)("i",{class:"fa fa-user"},null,-1),(0,a.eW)(" Perfil ")])),(0,a.Lk)("li",{class:"list-group-item list-group-item-action",onClick:t[3]||(t[3]=(...e)=>l.logout&&l.logout(...e))},t[9]||(t[9]=[(0,a.Lk)("i",{class:"fa fa-sign-out"},null,-1),(0,a.eW)(" Cerrar sesión ")])),(0,a.Lk)("li",{class:"list-group-item list-group-item-action",onClick:t[4]||(t[4]=(...e)=>l.toggleSearch&&l.toggleSearch(...e))},t[10]||(t[10]=[(0,a.Lk)("i",{class:"fa fa-search"},null,-1),(0,a.eW)(" Buscar ")]))]),i.isSearchVisible?((0,a.uX)(),(0,a.CE)("div",D,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>i.searchQuery=e),onInput:t[6]||(t[6]=(...e)=>l.searchUser&&l.searchUser(...e)),placeholder:"Buscar usuario...",class:"form-control"},null,544),[[r.Jo,i.searchQuery]]),i.users.length?((0,a.uX)(),(0,a.CE)("ul",S,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.users,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"list-group-item list-group-item-action",onClick:t=>l.goToProfile(e.username)},(0,n.v_)(e.username)+" ("+(0,n.v_)(e.name)+") ",9,_)))),128))])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)],2)])}var $={data(){return{profileData:JSON.parse(localStorage.getItem("profileData"))||{name:"",username:"",profile_picture:""},isSidebarOpen:!1,isSearchVisible:!1,searchQuery:"",users:[]}},methods:{getProfileImage(){const e="https://firebasestorage.googleapis.com/v0/b/booksharing-socialnetwork.appspot.com/o/profile%2Fdefault.jpg?alt=media";return this.profileData.profile_picture?this.profileData.profile_picture:e},navigateToHome(){this.$router.push("/")},navigateToProfile(){const e=this.checkAuthentication();e?this.$router.push(`/profile/${this.profileData.username}`):(alert("Por favor, inicia sesión primero."),this.$router.push("/login"))},toggleSearch(){this.isSearchVisible=!this.isSearchVisible},toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},async searchUser(){if(this.searchQuery.length>2)try{const e=await k.get("/search",{params:{query:this.searchQuery}});this.users=e.data}catch(e){console.error("Error al buscar usuarios:",e)}else this.users=[]},goToProfile(e){this.$router.push(`/profile/${e}`),this.isSearchVisible=!1},logout(){localStorage.removeItem("authToken"),localStorage.removeItem("profileData"),this.$router.push("/login").then((()=>{window.location.reload()}))},checkAuthentication(){return!!localStorage.getItem("authToken")}}};const F=(0,v.A)($,[["render",A],["__scopeId","data-v-05c5728a"]]);var U=F,X={components:{SearchComponent:L,NavComponent:U},data(){return{showSearch:!1,isAuthenticated:!1,isSidebarOpen:!1}},methods:{toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},handleSearch(){this.showSearch=!this.showSearch},checkAuth(){const e=localStorage.getItem("authToken");if(e)try{this.isAuthenticated=!0}catch(t){this.isAuthenticated=!1,localStorage.removeItem("authToken")}else this.isAuthenticated=!1}},mounted(){this.checkAuth()}};const T=(0,v.A)(X,[["render",d]]);var x=T,O={name:"App",components:{MainLayout:x}};const Q=(0,v.A)(O,[["render",s]]);var V=Q,B=o(1387);const R={class:"home-view"};function q(e,t,o,r,s,n){const i=(0,a.g2)("Home_component");return(0,a.uX)(),(0,a.CE)("div",R,[(0,a.bF)(i)])}const z={class:"home container d-flex flex-column align-items-center justify-content-center text-center"},J={key:0,class:"d-flex justify-content-around"},j={class:"posts-container mt-4 d-flex flex-wrap justify-content-center gap-3"},N={key:0,class:"post-card mb-4 shadow-sm"},W={class:"d-flex align-items-start"},M=["src"];function H(e,t,o,r,s,n){const i=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",z,[t[2]||(t[2]=(0,a.Lk)("h1",{class:"text-center mb-4"}," Bienvenido a la Red Social de Libros",-1)),s.isAuth?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",J,[(0,a.bF)(i,{to:"/login",class:"btn btn-primary"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("Iniciar Sesión")]))),_:1}),(0,a.bF)(i,{to:"/register",class:"btn btn-secondary"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("Regístrate")]))),_:1})])),(0,a.Lk)("div",j,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.posts,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id},[e.image?((0,a.uX)(),(0,a.CE)("div",N,[(0,a.Lk)("div",W,[e.image?((0,a.uX)(),(0,a.CE)("img",{key:0,src:e.image,alt:"Post Image",class:"post-image me-3"},null,8,M)):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)])))),128))])])}var G={data(){return{isAuth:!0,posts:[]}},methods:{async getAllPosts(){try{const e=localStorage.getItem("authToken");if(!e)return void(this.isAuth=!1);const t=await k.get("/posts",{headers:{Authorization:`Bearer ${e}`}});this.posts=t.data}catch(e){console.error("Error getting posts:",e)}}},mounted(){this.getAllPosts()}};const K=(0,v.A)(G,[["render",H],["__scopeId","data-v-9cfe3d30"]]);var Y=K,Z={components:{Home_component:Y}};const ee=(0,v.A)(Z,[["render",q]]);var te=ee;function oe(e,t,o,r,s,n){const i=(0,a.g2)("Login_component");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(i)])}var re=o.p+"img/LogoRM.b5d6692e.png";const ae={class:"login fadeInDown"},se={id:"formContent"},ne={id:"formFooter"};function ie(e,t,o,s,n,i){const l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",ae,[(0,a.Lk)("div",se,[t[6]||(t[6]=(0,a.Lk)("div",{class:"fadeIn first"},[(0,a.Lk)("img",{src:re,id:"icon",alt:"logo"})],-1)),(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>i.loginUser&&i.loginUser(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email",class:"fadeIn second",placeholder:"Correo Electrónico","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),required:""},null,512),[[r.Jo,n.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password",class:"fadeIn third",placeholder:"Contraseña","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),required:""},null,512),[[r.Jo,n.password]]),t[3]||(t[3]=(0,a.Lk)("input",{type:"submit",class:"fadeIn fourth",value:"Iniciar Sesión"},null,-1))],32),(0,a.Lk)("div",ne,[(0,a.bF)(l,{class:"underlineHover",to:"/forgot-password"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("¿Olvidaste tu contraseña?")]))),_:1}),(0,a.bF)(l,{class:"underlineHover",to:"/register"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("¿No tienes cuenta? Registrate")]))),_:1})])])])}var le={data(){return{email:"salinasgomez16@gmail.com",password:"BrandonGomez12345***"}},methods:{async loginUser(){const e=await k.post("/login",{email:this.email,password:this.password});console.log("Logged in:",e.data),localStorage.setItem("authToken",e.data.token);const t=e.data.username,o=e.data.is_admin;o?this.$router.push("/admin/dashboard").then((()=>{window.location.reload()})):this.$router.push(`/profile/${t}`).then((()=>{window.location.reload()}))}}};const ce=(0,v.A)(le,[["render",ie],["__scopeId","data-v-799d820b"]]);var de=ce,ue={components:{Login_component:de}};const pe=(0,v.A)(ue,[["render",oe]]);var fe=pe;function he(e,t,o,r,s,n){const i=(0,a.g2)("Register_component");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(i)])}const me={class:"register fadeInDown"},ge={id:"formContent"},ke={class:"form-check d-flex justify-content-center"},be={id:"formFooter"};function ve(e,t,o,s,n,i){const l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",me,[(0,a.Lk)("div",ge,[t[8]||(t[8]=(0,a.Lk)("div",{class:"fadeIn first"},[(0,a.Lk)("img",{src:re,id:"icon",alt:"logo"})],-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>i.registerUser&&i.registerUser(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email",class:"fadeIn second",placeholder:"Correo Electrónico","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),required:""},null,512),[[r.Jo,n.email]]),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"username",class:"fadeIn third",placeholder:"Usuario","onUpdate:modelValue":t[1]||(t[1]=e=>n.username=e),required:""},null,512),[[r.Jo,n.username]]),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password",class:"fadeIn fourth",placeholder:"Contraseña","onUpdate:modelValue":t[2]||(t[2]=e=>n.password=e),required:""},null,512),[[r.Jo,n.password]]),(0,a.Lk)("div",ke,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox",id:"terminos",class:"fadeIn form-check-input","onUpdate:modelValue":t[3]||(t[3]=e=>n.terminos=e),required:""},null,512),[[r.lH,n.terminos]]),t[5]||(t[5]=(0,a.Lk)("label",{class:"form-check-label px-3 text-secondary",for:"terminos"},"Aceptar terminos y condiciones",-1))]),t[6]||(t[6]=(0,a.Lk)("input",{type:"submit",class:"fadeIn fifth",value:"Registrate"},null,-1))],32),(0,a.Lk)("div",be,[(0,a.bF)(l,{class:"underlineHover",to:"/login"},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("¿Ya tienes una cuenta? Inicia sesión")]))),_:1})])])])}var we={data(){return{email:"",username:"",password:"",terminos:!1}},methods:{async registerUser(){try{const e=await k.post("/register",{email:this.email,username:this.username,password:this.password,termsAccepted:this.terminos});console.log("Registered:",e.data),localStorage.setItem("authToken",e.data.token),alert("USUARIO REGISTRADO CORRECTAMENTE"),this.$router.push("/login")}catch(e){console.error("Error en el registro:",e.response.data)}}}};const Le=(0,v.A)(we,[["render",ve],["__scopeId","data-v-383d180e"]]);var ye=Le,Ce={components:{Register_component:ye}};const Pe=(0,v.A)(Ce,[["render",he]]);var Ie=Pe;const Ee={class:"forgot-password-view"};function De(e,t,o,r,s,n){const i=(0,a.g2)("ForgotPassword");return(0,a.uX)(),(0,a.CE)("div",Ee,[(0,a.bF)(i)])}const Se={class:"forgotpassword fadeInDown"},_e={id:"formContent"},Ae={id:"formFooter"};function $e(e,t,o,s,n,i){const l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",Se,[(0,a.Lk)("div",_e,[t[4]||(t[4]=(0,a.Lk)("div",{class:"fadeIn first"},[(0,a.Lk)("img",{src:re,id:"icon",alt:"logo"})],-1)),(0,a.Lk)("form",{onSubmit:t[1]||(t[1]=(0,r.D$)(((...e)=>i.submitEmail&&i.submitEmail(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email",class:"fadeIn second","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),placeholder:"Correo Electrónico",required:""},null,512),[[r.Jo,n.email]]),t[2]||(t[2]=(0,a.Lk)("input",{type:"submit",class:"fadeIn fourth",value:"Restablecer Contraseña"},null,-1))],32),(0,a.Lk)("div",Ae,[(0,a.bF)(l,{class:"underlineHover",to:"/login"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("Volver al inicio de sesión")]))),_:1})])])])}var Fe={data(){return{email:"",message:""}},methods:{async submitEmail(){try{const e=await k.post("/forgot-password",{email:this.email});console.log("Logged in:",e.data);const t=e.data.resetToken;this.$router.push({path:"/reset-password",query:{token:t,email:this.email}})}catch(e){console.error("Error al enviar correo:",e.response.data)}}}};const Ue=(0,v.A)(Fe,[["render",$e],["__scopeId","data-v-5c0d3efe"]]);var Xe=Ue,Te={components:{ForgotPassword:Xe}};const xe=(0,v.A)(Te,[["render",De],["__scopeId","data-v-2fa9e9b3"]]);var Oe=xe;const Qe={class:"reset-password-view"};function Ve(e,t,o,r,s,n){const i=(0,a.g2)("ResetPassword");return(0,a.uX)(),(0,a.CE)("div",Qe,[(0,a.bF)(i)])}const Be={class:"resetpassword fadeInDown"},Re={id:"formContent"};function qe(e,t,o,s,n,i){return(0,a.uX)(),(0,a.CE)("div",Be,[(0,a.Lk)("div",Re,[t[4]||(t[4]=(0,a.Lk)("div",{class:"fadeIn first"},[(0,a.Lk)("img",{src:re,id:"icon",alt:"logo"})],-1)),(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>i.resetPassword&&i.resetPassword(...e)),["prevent"]))},[(0,a.Lk)("div",null,[(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>n.newPassword=e),id:"newPassword",class:"fadeIn second",placeholder:"Nueva Contraseña",required:""},null,512),[[r.Jo,n.newPassword]]),(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.confirmPassword=e),id:"confirmPassword",class:"fadeIn third",placeholder:"Confirmar Contraseña",required:""},null,512),[[r.Jo,n.confirmPassword]]),t[3]||(t[3]=(0,a.Lk)("input",{type:"submit",class:"fadeIn fourth",value:"Restablecer Contraseña"},null,-1))])],32)])])}o(4603),o(7566),o(8721);var ze={data(){return{newPassword:"",confirmPassword:"",token:"",email:""}},created(){const e=new URLSearchParams(window.location.search);this.token=e.get("token"),this.email=e.get("email")},methods:{async resetPassword(){if(console.log("Reset Password clicked"),this.newPassword!==this.confirmPassword)return this.message="Las contraseñas no coinciden.",void console.log("Las contraseñas no coinciden.");try{console.log("COMENZANDO SOLICITUD");const e=await k.post("/reset-password",{token:this.token,email:this.email,newPassword:this.newPassword});alert(e.data.message||"Contraseña restablecida con éxito"),console.log("COTRASEÑA ACTUALIZADA PARA",this.email),this.$router.push("/login")}catch(e){console.error("Error during password reset:",e),this.message=e.response?.data?.error||"Error al restablecer la contraseña."}}}};const Je=(0,v.A)(ze,[["render",qe],["__scopeId","data-v-6bc59e17"]]);var je=Je,Ne={components:{ResetPassword:je}};const We=(0,v.A)(Ne,[["render",Ve],["__scopeId","data-v-0b08f086"]]);var Me=We;const He={class:"profile-view"};function Ge(e,t,o,r,s,n){const i=(0,a.g2)("ProfileComponent");return(0,a.uX)(),(0,a.CE)("div",He,[(0,a.bF)(i)])}const Ke={key:0,class:"profile-container container my-4 py-4"},Ye={class:"profile-header row align-items-center"},Ze={class:"col-md-3 text-center"},et=["src"],tt={class:"col-md-9 profile-info"},ot={class:"h3"},rt={class:"text-muted"},at={class:"profile-stats d-flex justify-content-around my-3"},st=["innerHTML"],nt={key:0,class:"add-post-button my-4 text-center d-flex justify-content-center align-items-baseline"},it={class:"posts-container mt-4"},lt={class:"d-flex align-items-start"},ct=["src"],dt={class:"post-content flex-grow-1"},ut={class:"post-title"},pt={class:"post-description"},ft={class:"d-flex justify-content-between align-items-center"},ht={key:1,class:"dropdown ms-auto"},mt={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton"},gt={key:0},kt={key:1},bt=["onClick"];function vt(e,t,o,r,s,i){const l=(0,a.g2)("router-link"),c=(0,a.g2)("PdfPreviewComponent"),d=(0,a.g2)("LikeComponent");return s.profileData?((0,a.uX)(),(0,a.CE)("div",Ke,[(0,a.Lk)("div",Ye,[(0,a.Lk)("div",Ze,[(0,a.Lk)("img",{src:i.getProfileImage(),class:"profile-image img-fluid rounded-circle border",alt:"Profile Picture"},null,8,et)]),(0,a.Lk)("div",tt,[(0,a.Lk)("h1",ot,(0,n.v_)(s.profileData.name),1),s.isCurrentUser?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.toggleFollow&&i.toggleFollow(...e)),class:(0,n.C4)(["btn","btn-primary",{following:s.follows.isFollowing}])},[(0,a.Lk)("div",null,(0,n.v_)(s.follows.isFollowing?"Dejar de seguir":"Seguir"),1)],2)),(0,a.Lk)("p",rt,[(0,a.Lk)("strong",null,(0,n.v_)(s.profileData.username||"No disponible"),1)]),(0,a.Lk)("div",at,[(0,a.Lk)("div",null,(0,n.v_)(s.publications)+" Publicaciones",1),(0,a.Lk)("div",null,(0,n.v_)(s.follows.followers)+" seguidores",1),(0,a.Lk)("div",null,(0,n.v_)(s.follows.following)+" seguidos",1)]),s.profileData.description?((0,a.uX)(),(0,a.CE)("p",{key:1,innerHTML:i.formattedDescription(s.profileData.description)},null,8,st)):(0,a.Q3)("",!0),s.isCurrentUser?((0,a.uX)(),(0,a.Wv)(l,{key:2,to:`/profile/${s.profileData.username}/edit-account`,class:"btn btn-primary btn-block"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)(" Editar perfil ")]))),_:1},8,["to"])):(0,a.Q3)("",!0)])]),s.isCurrentUser?((0,a.uX)(),(0,a.CE)("div",nt,[(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.addNewPost&&i.addNewPost(...e)),class:"btn btn-success rounded-circle"},t[3]||(t[3]=[(0,a.Lk)("i",{class:"fas fa-plus"},null,-1)]))])):(0,a.Q3)("",!0),(0,a.Lk)("div",it,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.filteredPosts(s.profileData.username),(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"post-card mb-4 shadow-sm"},[(0,a.Lk)("div",lt,[e.image?((0,a.uX)(),(0,a.CE)("img",{key:0,src:e.image,alt:"Post Image",class:"post-image me-3"},null,8,ct)):(0,a.Q3)("",!0),(0,a.Lk)("div",dt,[(0,a.Lk)("h3",ut,(0,n.v_)(e.title),1),(0,a.Lk)("p",pt,(0,n.v_)(e.description),1),(0,a.Lk)("div",ft,[e.pdf_file?((0,a.uX)(),(0,a.Wv)(c,{key:0,pdfUrl:e.pdf_file},null,8,["pdfUrl"])):(0,a.Q3)("",!0),(0,a.bF)(d,{postId:String(e.id)},null,8,["postId"])])]),s.isCurrentUser?((0,a.uX)(),(0,a.CE)("div",ht,[t[5]||(t[5]=(0,a.Lk)("button",{class:"btn btn-link text-secondary p-0",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,a.Lk)("i",{class:"fas fa-ellipsis-v"})],-1)),(0,a.Lk)("ul",mt,[s.isCurrentUser?((0,a.uX)(),(0,a.CE)("li",gt,[(0,a.bF)(l,{to:`/posts/${e.id}/edit-post`,class:"dropdown-item"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("✏️ Editar")]))),_:2},1032,["to"])])):(0,a.Q3)("",!0),s.isCurrentUser?((0,a.uX)(),(0,a.CE)("li",kt,[(0,a.Lk)("button",{onClick:t=>i.deletePost(e.id),class:"dropdown-item"},"🗑️ Eliminar",8,bt)])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)])])))),128))])])):(0,a.Q3)("",!0)}const wt={key:0,class:"like-container"};function Lt(e,t,o,r,s,i){return null!==s.isLiked?((0,a.uX)(),(0,a.CE)("div",wt,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.toggleLike&&i.toggleLike(...e)),class:(0,n.C4)({liked:s.isLiked})},[(0,a.Lk)("span",null,(0,n.v_)(s.isLiked?"❤️":"🤍"),1)],2),(0,a.Lk)("span",null,(0,n.v_)(s.likeCount)+" Me gusta",1)])):(0,a.Q3)("",!0)}var yt={props:{postId:{type:String,required:!0}},data(){return{isLiked:null,likeCount:0}},async created(){try{await this.fetchLikeCount(),await this.checkIfLiked()}catch(e){console.error("Error during initialization:",e)}},methods:{async fetchLikeCount(){try{const e=await k.get(`/like/count/${this.postId}`);this.likeCount=e.data.likeCount}catch(e){console.error("Error fetching like count:",e)}},async toggleLike(){const e=localStorage.getItem("authToken");if(e)try{this.isLiked?(await k.delete(`/like/${this.postId}`,{headers:{Authorization:`Bearer ${e}`},data:{postId:this.postId}}),this.likeCount--,this.isLiked=!1):(await k.post("/like",{postId:this.postId},{headers:{Authorization:`Bearer ${e}`}}),this.likeCount++,this.isLiked=!0)}catch(t){console.error("Error toggling like:",t)}else console.error("Authentication token not found")},async checkIfLiked(){const e=localStorage.getItem("authToken");if(e)try{const t=await k.get(`/like/check/${this.postId}`,{headers:{Authorization:`Bearer ${e}`}});this.isLiked=t.data.isLiked}catch(t){console.error("Error checking if liked:",t)}else console.error("Authentication token not found")}}};const Ct=(0,v.A)(yt,[["render",Lt],["__scopeId","data-v-7f2bd3dc"]]);var Pt=Ct;function It(e,t,o,r,s,n){return(0,a.uX)(),(0,a.CE)("button",{onClick:t[0]||(t[0]=(...e)=>n.viewPdf&&n.viewPdf(...e)),class:"btn btn-primary"}," 📄 Ver PDF ")}var Et={props:{pdfUrl:{type:String,required:!0}},methods:{viewPdf(){this.$router.push({name:"PdfPreview",query:{pdfUrl:this.pdfUrl}})}}};const Dt=(0,v.A)(Et,[["render",It],["__scopeId","data-v-4e2104d3"]]);var St=Dt,_t={components:{LikeComponent:Pt,PdfPreviewComponent:St},data(){return{profileData:{name:"",birthdate:"",gender:"",description:"",profile_picture:""},isCurrentUser:null,posts:[],publications:0,follows:{isFollowing:!1,followers:0,following:0}}},computed:{formattedBirthdate(){if(this.profileData.birthdate){const e=new Date(this.profileData.birthdate);return e.toLocaleDateString()}return""}},watch:{$route(){this.getProfile(),this.fetchDataFollows()}},methods:{formattedDescription(e){return e?e.replace(/\n/g,"<br>"):""},async getProfile(){const e=localStorage.getItem("authToken");if(e)try{const t=await k.get(`/profile/${this.$route.params.username}`,{headers:{Authorization:`Bearer ${e}`}});this.profileData=t.data.user,this.isCurrentUser=t.data.isCurrentUser,this.isCurrentUser&&localStorage.setItem("profileData",JSON.stringify(this.profileData)),this.getPostCount(this.profileData.id),this.getAllPosts(this.profileData.id),this.fetchDataFollows(),console.log(this.follows)}catch(t){console.error("Error fetching profile:",t)}},getProfileImage(){const e="https://firebasestorage.googleapis.com/v0/b/booksharing-socialnetwork.appspot.com/o/profile%2Fdefault.jpg?alt=media";return this.profileData.profile_picture?this.profileData.profile_picture:e},async getAllPosts(e){try{const t=localStorage.getItem("authToken"),o=await k.get(`/posts/user/${e}`,{headers:{Authorization:`Bearer ${t}`}});this.posts=o.data}catch(t){console.error("Error getting posts:",t)}},async getPostCount(e){const t=localStorage.getItem("authToken");try{const o=await k.get(`/posts/count/${e}`,{headers:{Authorization:`Bearer ${t}`}});this.publications=o.data.post_count}catch(o){console.error("Error getting post count:",o)}},filteredPosts(){return this.posts},addNewPost(){this.$router.push("/posts")},editPost(e){this.$router.push(`/posts/${e}/edit-post`)},async deletePost(e){const t=localStorage.getItem("authToken");if(confirm("¿Estás seguro de que deseas eliminar esta publicación?"))try{await k.delete(`/posts/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.posts=this.posts.filter((t=>t.id!==e)),this.$router.push(`/profile/${this.profileData.username}`).then((()=>{window.location.reload()}))}catch(o){console.error("Error deleting post:",o)}},async fetchDataFollows(){try{await this.fetchFollowerCount(),await this.fetchFollowingCount(),await this.checkIfFollowing(),console.log("Datos actualizados para userId:",this.profileData.id)}catch(e){console.error("Error al actualizar datos:",e)}},async fetchFollowerCount(){const e=localStorage.getItem("authToken");if(e)try{console.log(this.profileData);const t=await k.get(`/follow/followers/count/${this.profileData.id}`,{headers:{Authorization:`Bearer ${e}`}});this.follows.followers=t.data.followerCount}catch(t){console.error("Error al obtener la cantidad de seguidores:",t)}else console.error("Token de autenticación no encontrado")},async fetchFollowingCount(){const e=localStorage.getItem("authToken");if(e)try{const t=await k.get(`/follow/following/count/${this.profileData.id}`,{headers:{Authorization:`Bearer ${e}`}});this.follows.following=t.data.followingCount}catch(t){console.error("Error al obtener la cantidad de seguidos:",t)}else console.error("Token de autenticación no encontrado")},async toggleFollow(){console.log("toggleFollow ejecutado");const e=localStorage.getItem("authToken");if(e)if(this.profileData.id)try{if(this.follows.isFollowing)await k.delete(`/follow/${this.profileData.id}`,{headers:{Authorization:`Bearer ${e}`},data:{followed_id:this.profileData.id}}),this.follows.followers--,this.follows.isFollowing=!1;else{const t={followed_id:this.profileData.id};await k.post("/follow",t,{headers:{Authorization:`Bearer ${e}`}}),this.follows.followers++,this.follows.isFollowing=!0}}catch(t){console.error("Error al cambiar el estado de seguimiento:",t),t.response&&t.response.data&&console.error("Detalles del error:",t.response.data)}else console.error("ID de usuario no definido");else console.error("Token de autenticación no encontrado")},async checkIfFollowing(){const e=localStorage.getItem("authToken");if(e)try{const t=await k.get(`/follow/check/${this.profileData.id}`,{headers:{Authorization:`Bearer ${e}`}});this.follows.isFollowing=t.data.isFollowing}catch(t){console.error("Error al verificar el estado de seguimiento:",t)}else console.error("Token de autenticación no encontrado")}},mounted(){this.getProfile()}};const At=(0,v.A)(_t,[["render",vt],["__scopeId","data-v-19d2b611"]]);var $t=At,Ft={data(){return{username:this.$route.params.username}},components:{ProfileComponent:$t}};const Ut=(0,v.A)(Ft,[["render",Ge],["__scopeId","data-v-5a8f64b6"]]);var Xt=Ut;function Tt(e,t,o,r,s,n){const i=(0,a.g2)("EditProfileComponent");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(i)])}const xt={class:"container mt-5"},Ot={class:"row justify-content-center"},Qt={class:"col-md-8"},Vt={class:"card shadow-lg p-4"},Bt={class:"card-body text-center"},Rt={class:"form-group col-lg-6 col-md-6 col-sm-12 d-flex flex-column mb-4 file-input"},qt={class:"file-input-preview"},zt={key:0},Jt=["src"],jt={class:"preview-filename"},Nt={key:1},Wt={class:"form-group mb-3"},Mt={class:"form-group mb-3"},Ht={class:"form-group mb-3"},Gt={class:"form-group mb-3"},Kt={class:"form-group mb-4"};function Yt(e,t,o,s,i,l){return(0,a.uX)(),(0,a.CE)("div",xt,[(0,a.Lk)("div",Ot,[(0,a.Lk)("div",Qt,[(0,a.Lk)("div",Vt,[(0,a.Lk)("div",Bt,[t[17]||(t[17]=(0,a.Lk)("h2",{class:"mb-4"},"Editar perfil",-1)),(0,a.Lk)("form",{onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>l.updateProfile&&l.updateProfile(...e)),["prevent"]))},[(0,a.Lk)("div",Rt,[(0,a.Lk)("input",{type:"file",class:"form-control-file",id:"imagesInput",name:"imagesInput",onChange:t[0]||(t[0]=(...e)=>l.handleFileUpload&&l.handleFileUpload(...e))},null,32),(0,a.Lk)("div",qt,[i.profilePhoto.length?((0,a.uX)(),(0,a.CE)("div",zt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.profilePhoto,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"preview-item"},[(0,a.Lk)("img",{src:e.previewURL,alt:"Preview",class:"preview-image"},null,8,Jt),(0,a.Lk)("span",jt,(0,n.v_)(e.name),1)])))),128))])):((0,a.uX)(),(0,a.CE)("div",Nt,t[7]||(t[7]=[(0,a.Lk)("div",{class:"placeholder-text"},"Selecciona una imagen",-1)])))]),t[8]||(t[8]=(0,a.Lk)("label",{class:"btn btn-primary btn-rp fw-bold mt-3 fs-5 text-capitalize file-input-button",for:"imagesInput"},[(0,a.Lk)("span",{class:"bi bi-upload me-2"}),(0,a.eW)("Cargar Imagen")],-1))]),(0,a.Lk)("div",Wt,[t[9]||(t[9]=(0,a.Lk)("label",{for:"name"},"Nombre",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>i.profileData.name=e),class:"form-control"},null,512),[[r.Jo,i.profileData.name]])]),(0,a.Lk)("div",Mt,[t[10]||(t[10]=(0,a.Lk)("label",{for:"edad"},"Edad",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>i.profileData.edad=e),class:"form-control",required:""},null,512),[[r.Jo,i.profileData.edad]])]),(0,a.Lk)("div",Ht,[t[11]||(t[11]=(0,a.Lk)("label",{for:"dob"},"dia",-1)),t[12]||(t[12]=(0,a.Lk)("label",{for:"dob"},"Fecha de Nacimiento",-1)),(0,a.bo)((0,a.Lk)("input",{type:"date",id:"dob","onUpdate:modelValue":t[3]||(t[3]=e=>i.profileData.birthdate=e),class:"form-control"},null,512),[[r.Jo,i.profileData.birthdate]])]),(0,a.Lk)("div",Gt,[t[14]||(t[14]=(0,a.Lk)("label",{for:"gender"},"Género",-1)),(0,a.bo)((0,a.Lk)("select",{id:"gender","onUpdate:modelValue":t[4]||(t[4]=e=>i.profileData.gender=e),class:"form-control"},t[13]||(t[13]=[(0,a.Lk)("option",{value:"Masculino"},"Masculino",-1),(0,a.Lk)("option",{value:"Femenino"},"Femenino",-1),(0,a.Lk)("option",{value:"Otro"},"Otro",-1)]),512),[[r.u1,i.profileData.gender]])]),(0,a.Lk)("div",Kt,[t[15]||(t[15]=(0,a.Lk)("label",{for:"description"},"Descripción",-1)),(0,a.bo)((0,a.Lk)("textarea",{id:"description","onUpdate:modelValue":t[5]||(t[5]=e=>i.profileData.description=e),class:"form-control",rows:"3"},null,512),[[r.Jo,i.profileData.description]])]),t[16]||(t[16]=(0,a.Lk)("button",{type:"submit",class:"btn btn-primary w-100"}," Guardar cambios ",-1))],32)])])])])])}var Zt={data(){return{profileData:{name:"",birthdate:"",gender:"",description:"",edad:""},form:{photo:[]},profilePhoto:[]}},mounted(){this.profileData=JSON.parse(localStorage.getItem("profileData")),this.profileData.birthdate=this.formatDate(this.profileData.birthdate)},methods:{async updateProfile(){const e=localStorage.getItem("authToken");if(e)try{const t=await k.put(`/profile/${this.profileData.username}/edit-account`,this.profileData,{headers:{Authorization:`Bearer ${e}`}});if(console.log("Profile updated successfully:",t.data),this.form.photo.length>0){const t=new FormData;t.append("photo",this.form.photo[0]);const o=await k.post("/upload/profile",t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}});console.log("Profile photo updated successfully:",o.data)}this.$router.push(`/profile/${this.profileData.username}`).then((()=>{window.location.reload()}))}catch(t){console.error("Error updating profile:",t)}},formatDate(e){e||(e="2000-01-02");const t=new Date(e),o=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${o}-${r}-${a}`},handleFileUpload(e){const t=Array.from(e.target.files);this.form.photo=t,this.profilePhoto=t.map((e=>({name:e.name,previewURL:URL.createObjectURL(e)})))}}};const eo=(0,v.A)(Zt,[["render",Yt],["__scopeId","data-v-0f4cb0b2"]]);var to=eo,oo={components:{EditProfileComponent:to}};const ro=(0,v.A)(oo,[["render",Tt]]);var ao=ro;function so(e,t,o,r,s,n){const i=(0,a.g2)("postComponent");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(i)])}const no={class:"container post-container my-4"},io={class:"container py-4"},lo={class:"mb-3"},co={class:"mb-3"},uo={class:"mb-3"},po={class:"mb-4"};function fo(e,t,o,s,n,i){return(0,a.uX)(),(0,a.CE)("div",no,[(0,a.Lk)("div",io,[t[10]||(t[10]=(0,a.Lk)("h2",{class:"mb-4"},"Nueva Publicación",-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>i.createPost&&i.createPost(...e)),["prevent"]))},[(0,a.Lk)("div",lo,[t[5]||(t[5]=(0,a.Lk)("label",{for:"title",class:"form-label"},"Título:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.newPost.title=e),type:"text",id:"title",class:"form-control",placeholder:"Ingrese el título de la publicación",required:""},null,512),[[r.Jo,n.newPost.title]])]),(0,a.Lk)("div",co,[t[6]||(t[6]=(0,a.Lk)("label",{for:"description",class:"form-label"},"Descripción:",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.newPost.description=e),id:"description",class:"form-control",rows:"4",placeholder:"Escriba la descripción aquí",required:""},null,512),[[r.Jo,n.newPost.description]])]),(0,a.Lk)("div",uo,[t[7]||(t[7]=(0,a.Lk)("label",{for:"photo",class:"form-label"},"Subir Foto:",-1)),(0,a.Lk)("input",{type:"file",id:"photo",class:"form-control",onChange:t[2]||(t[2]=(...e)=>i.onFileChange&&i.onFileChange(...e)),accept:"image/*"},null,32)]),(0,a.Lk)("div",po,[t[8]||(t[8]=(0,a.Lk)("label",{for:"book",class:"form-label"},"Subir Libro (PDF):",-1)),(0,a.Lk)("input",{type:"file",id:"book",class:"form-control",onChange:t[3]||(t[3]=(...e)=>i.onPdfChange&&i.onPdfChange(...e)),accept:"application/pdf"},null,32)]),t[9]||(t[9]=(0,a.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Publicar",-1))],32)])])}var ho={data(){return{newPost:{title:"",description:""},images:"",pdf_file:"",profileData:{name:"",birthdate:"",gender:"",description:""},posts:[],newComment:"",profilePhoto:[]}},methods:{onFileChange(e){this.newPost.images=e.target.files[0]},onPdfChange(e){this.newPost.pdf_file=e.target.files[0]},async createPost(){try{const e=localStorage.getItem("authToken"),t=new FormData;t.append("title",this.newPost.title),t.append("description",this.newPost.description),t.append("images",this.newPost.images),t.append("pdf",this.newPost.pdf_file);const o=await k.post("/posts",t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}});console.log(o.data),this.$router.push(`/profile/${this.profileData.username}`).then((()=>{window.location.reload()}))}catch(e){console.error("Error creating post:",e)}}},mounted(){this.profileData=JSON.parse(localStorage.getItem("profileData"))}};const mo=(0,v.A)(ho,[["render",fo],["__scopeId","data-v-60becf1b"]]);var go=mo,ko={components:{postComponent:go}};const bo=(0,v.A)(ko,[["render",so]]);var vo=bo;const wo={class:"edit-post-view"};function Lo(e,t,o,r,s,n){const i=(0,a.g2)("EditPostComponent");return(0,a.uX)(),(0,a.CE)("div",wo,[(0,a.bF)(i,{postId:e.$route.params.postId},null,8,["postId"])])}const yo={key:0,class:"edit-post-container container my-4 py-4"},Co={class:"form-group my-2"},Po={class:"form-group my-2"},Io={class:"form-group my-2"},Eo={class:"form-group my-2"};function Do(e,t,o,s,n,i){return n.newPost?((0,a.uX)(),(0,a.CE)("div",yo,[t[11]||(t[11]=(0,a.Lk)("h2",null,"Editar Publicación",-1)),(0,a.Lk)("form",{onSubmit:t[5]||(t[5]=(0,r.D$)(((...e)=>i.updatePost&&i.updatePost(...e)),["prevent"]))},[(0,a.Lk)("div",Co,[t[6]||(t[6]=(0,a.Lk)("label",{for:"title"},"Título",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>n.newPost.title=e),class:"form-control"},null,512),[[r.Jo,n.newPost.title]])]),(0,a.Lk)("div",Po,[t[7]||(t[7]=(0,a.Lk)("label",{for:"description"},"Descripción",-1)),(0,a.bo)((0,a.Lk)("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>n.newPost.description=e),class:"form-control"},null,512),[[r.Jo,n.newPost.description]])]),(0,a.Lk)("div",Io,[t[8]||(t[8]=(0,a.Lk)("label",{for:"image"},"Imagen",-1)),(0,a.Lk)("input",{type:"file",id:"image",onChange:t[2]||(t[2]=(...e)=>i.handleImageUpload&&i.handleImageUpload(...e)),class:"form-control",accept:"image/*"},null,32)]),(0,a.Lk)("div",Eo,[t[9]||(t[9]=(0,a.Lk)("label",{for:"pdf"},"Archivo PDF",-1)),(0,a.Lk)("input",{type:"file",id:"pdf",onChange:t[3]||(t[3]=(...e)=>i.handlePdfUpload&&i.handlePdfUpload(...e)),class:"form-control",accept:"application/*"},null,32)]),t[10]||(t[10]=(0,a.Lk)("button",{type:"submit",class:"btn btn-primary"},"Guardar Cambios",-1)),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.deletePost&&i.deletePost(...e)),class:"btn btn-danger ml-2"},"Eliminar Publicación")],32)])):(0,a.Q3)("",!0)}var So={props:{postId:String},data(){return{newPost:{title:"",description:""},images:"",pdf_file:"",profileData:{}}},mounted(){this.fetchPost(),this.profileData=JSON.parse(localStorage.getItem("profileData"))},methods:{async fetchPost(){try{const e=await k.get(`/posts/${this.postId}`);this.newPost=e.data}catch(e){console.error("Error fetching post:",e)}},handleImageUpload(e){this.newPost.images=e.target.files[0]},handlePdfUpload(e){this.newPost.pdf_file=e.target.files[0]},async updatePost(){const e=localStorage.getItem("authToken");if(e){const o=new FormData;if(!this.newPost.title||!this.newPost.description)return void console.error("Title and description are required.");o.append("title",this.newPost.title),o.append("description",this.newPost.description),this.newPost.images&&o.append("images",this.newPost.images),this.newPost.pdf_file&&o.append("pdf",this.newPost.pdf_file);for(const[e,t]of o.entries())console.log(`${e}:`,t);try{const t=await k.put(`/posts/${this.postId}`,o,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}});console.log(t.data),this.$router.push(`/profile/${this.profileData.username}`)}catch(t){console.error("Error updating post:",t)}}},async deletePost(){try{await k.delete(`/posts/${this.postId}`),this.$router.push(`/profile/${this.$route.params.username}`)}catch(e){console.error("Error deleting post:",e)}}}};const _o=(0,v.A)(So,[["render",Do],["__scopeId","data-v-cc1a0c9c"]]);var Ao=_o,$o={components:{EditPostComponent:Ao}};const Fo=(0,v.A)($o,[["render",Lo]]);var Uo=Fo;const Xo={class:"like-view"};function To(e,t,o,r,s,n){const i=(0,a.g2)("LikeComponent");return(0,a.uX)(),(0,a.CE)("div",Xo,[(0,a.bF)(i,{postId:s.postId},null,8,["postId"])])}var xo={components:{LikeComponent:Pt},data(){return{postId:this.$route.params.postId}}};const Oo=(0,v.A)(xo,[["render",To],["__scopeId","data-v-09a8f1cc"]]);var Qo=Oo;const Vo={class:"pdf-preview-view"},Bo=["src"];function Ro(e,t,o,r,s,n){return(0,a.uX)(),(0,a.CE)("div",Vo,[(0,a.Lk)("button",{class:"close-btn",onClick:t[0]||(t[0]=(...e)=>n.goBack&&n.goBack(...e))},"Cerrar"),s.pdfUrl?((0,a.uX)(),(0,a.CE)("embed",{key:0,src:s.pdfUrl,type:"application/pdf",width:"100%",height:"100%"},null,8,Bo)):(0,a.Q3)("",!0)])}var qo={data(){return{pdfUrl:this.$route.query.pdfUrl||""}},methods:{goBack(){this.$router.go(-1)}}};const zo=(0,v.A)(qo,[["render",Ro],["__scopeId","data-v-7b036d08"]]);var Jo=zo;function jo(e,t,o,r,s,n){const i=(0,a.g2)("dashboardComponent");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(i)])}function No(e,t,o,r,s,n){return(0,a.uX)(),(0,a.CE)("p",null,"Dashboard")}var Wo={data(){return{searchQuery:"",users:[]}},methods:{}};const Mo=(0,v.A)(Wo,[["render",No]]);var Ho=Mo,Go={components:{dashboardComponent:Ho}};const Ko=(0,v.A)(Go,[["render",jo]]);var Yo=Ko;const Zo=[{path:"/",name:"Home",component:te},{path:"/login",name:"Login",component:fe,MainLayout:x},{path:"/register",name:"Register",component:Ie},{path:"/forgot-password",name:"ForgotPassword",component:Oe},{path:"/reset-password",name:"ResetPassword",component:Me},{path:"/profile/:username",name:"Profile",component:Xt,meta:{requiresAuth:!0},props:!0},{path:"/profile/:username/edit-account",name:"EditProfile",component:ao,props:!0},{path:"/posts",name:"PostView",component:vo},{path:"/posts/:postId/edit-post",name:"EditPost",component:Uo,props:!0},{path:"/like",name:"LikeView",component:Qo},{path:"/pdf-preview",name:"PdfPreview",component:Jo},{path:"/admin",component:x,children:[{path:"dashboard",name:"dashboard",component:Yo}]}],er=(0,B.aE)({history:(0,B.LA)(),routes:Zo});er.beforeEach(((e,t,o)=>{const r=!!localStorage.getItem("authToken");e.meta.requiresAuth&&!r?o({path:"/login"}):o()}));var tr=er,or=o(5015);o(3855);(0,r.Ef)(V).use(tr).use(or.Ay).mount("#app")}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,r,a,s){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],s=e[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&s||n>=s)&&Object.keys(o.O).every((function(e){return o.O[e](r[l])}))?r.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,a,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,n=r[0],i=r[1],l=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var d=l(o)}for(t&&t(r);c<n.length;c++)s=n[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},r=self["webpackChunkfronvue"]=self["webpackChunkfronvue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(9285)}));r=o.O(r)})();
//# sourceMappingURL=app.2e0b741a.js.map